!function(n){var r={};function t(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=r,t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,r){if(1&r&&(n=t(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var o in n)t.d(e,o,function(r){return n[r]}.bind(null,o));return e},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=8)}([function(n,r,t){"use strict";var e,o=function(){return void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e},a=function(){var n={};return function(r){if(void 0===n[r]){var t=document.querySelector(r);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[r]=t}return n[r]}}(),i=[];function c(n){for(var r=-1,t=0;t<i.length;t++)if(i[t].identifier===n){r=t;break}return r}function u(n,r){for(var t={},e=[],o=0;o<n.length;o++){var a=n[o],u=r.base?a[0]+r.base:a[0],s=t[u]||0,l="".concat(u," ").concat(s);t[u]=s+1;var p=c(l),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==p?(i[p].references++,i[p].updater(f)):i.push({identifier:l,updater:v(f,r),references:1}),e.push(l)}return e}function s(n){var r=document.createElement("style"),e=n.attributes||{};if(void 0===e.nonce){var o=t.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(n){r.setAttribute(n,e[n])})),"function"==typeof n.insert)n.insert(r);else{var i=a(n.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(r)}return r}var l,p=(l=[],function(n,r){return l[n]=r,l.filter(Boolean).join("\n")});function f(n,r,t,e){var o=t?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(n.styleSheet)n.styleSheet.cssText=p(r,o);else{var a=document.createTextNode(o),i=n.childNodes;i[r]&&n.removeChild(i[r]),i.length?n.insertBefore(a,i[r]):n.appendChild(a)}}function d(n,r,t){var e=t.css,o=t.media,a=t.sourceMap;if(o?n.setAttribute("media",o):n.removeAttribute("media"),a&&btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}var h=null,m=0;function v(n,r){var t,e,o;if(r.singleton){var a=m++;t=h||(h=s(r)),e=f.bind(null,t,a,!1),o=f.bind(null,t,a,!0)}else t=s(r),e=d.bind(null,t,r),o=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return e(n),function(r){if(r){if(r.css===n.css&&r.media===n.media&&r.sourceMap===n.sourceMap)return;e(n=r)}else o()}}n.exports=function(n,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=o());var t=u(n=n||[],r);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var e=0;e<t.length;e++){var o=c(t[e]);i[o].references--}for(var a=u(n,r),s=0;s<t.length;s++){var l=c(t[s]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}t=a}}}},function(n,r,t){"use strict";n.exports=function(n){var r=[];return r.toString=function(){return this.map((function(r){var t=function(n,r){var t=n[1]||"",e=n[3];if(!e)return t;if(r&&"function"==typeof btoa){var o=(i=e,c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(u," */")),a=e.sources.map((function(n){return"/*# sourceURL=".concat(e.sourceRoot||"").concat(n," */")}));return[t].concat(a).concat([o]).join("\n")}var i,c,u;return[t].join("\n")}(r,n);return r[2]?"@media ".concat(r[2]," {").concat(t,"}"):t})).join("")},r.i=function(n,t,e){"string"==typeof n&&(n=[[null,n,""]]);var o={};if(e)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var c=0;c<n.length;c++){var u=[].concat(n[c]);e&&o[u[0]]||(t&&(u[2]?u[2]="".concat(t," and ").concat(u[2]):u[2]=t),r.push(u))}},r}},function(n,r,t){(function(n){function r(n){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var t=function(n){"use strict";var t=Object.prototype,e=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(n,r,t){return Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),n[r]}try{u({},"")}catch(n){u=function(n,r,t){return n[r]=t}}function s(n,r,t,e){var o=r&&r.prototype instanceof f?r:f,a=Object.create(o.prototype),i=new E(e||[]);return a._invoke=function(n,r,t){var e="suspendedStart";return function(o,a){if("executing"===e)throw new Error("Generator is already running");if("completed"===e){if("throw"===o)throw a;return S()}for(t.method=o,t.arg=a;;){var i=t.delegate;if(i){var c=x(i,t);if(c){if(c===p)continue;return c}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===e)throw e="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);e="executing";var u=l(n,r,t);if("normal"===u.type){if(e=t.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:t.done}}"throw"===u.type&&(e="completed",t.method="throw",t.arg=u.arg)}}}(n,t,i),a}function l(n,r,t){try{return{type:"normal",arg:n.call(r,t)}}catch(n){return{type:"throw",arg:n}}}n.wrap=s;var p={};function f(){}function d(){}function h(){}var m={};m[a]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(R([])));g&&g!==t&&e.call(g,a)&&(m=g);var b=h.prototype=f.prototype=Object.create(m);function y(n){["next","throw","return"].forEach((function(r){u(n,r,(function(n){return this._invoke(r,n)}))}))}function w(n,t){var o;this._invoke=function(a,i){function c(){return new t((function(o,c){!function o(a,i,c,u){var s=l(n[a],n,i);if("throw"!==s.type){var p=s.arg,f=p.value;return f&&"object"===r(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){o("next",n,c,u)}),(function(n){o("throw",n,c,u)})):t.resolve(f).then((function(n){p.value=n,c(p)}),(function(n){return o("throw",n,c,u)}))}u(s.arg)}(a,i,o,c)}))}return o=o?o.then(c,c):c()}}function x(n,r){var t=n.iterator[r.method];if(void 0===t){if(r.delegate=null,"throw"===r.method){if(n.iterator.return&&(r.method="return",r.arg=void 0,x(n,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var e=l(t,n.iterator,r.arg);if("throw"===e.type)return r.method="throw",r.arg=e.arg,r.delegate=null,p;var o=e.arg;return o?o.done?(r[n.resultName]=o.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,p):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function _(n){var r={tryLoc:n[0]};1 in n&&(r.catchLoc=n[1]),2 in n&&(r.finallyLoc=n[2],r.afterLoc=n[3]),this.tryEntries.push(r)}function k(n){var r=n.completion||{};r.type="normal",delete r.arg,n.completion=r}function E(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(_,this),this.reset(!0)}function R(n){if(n){var r=n[a];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var t=-1,o=function r(){for(;++t<n.length;)if(e.call(n,t))return r.value=n[t],r.done=!1,r;return r.value=void 0,r.done=!0,r};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=b.constructor=h,h.constructor=d,d.displayName=u(h,c,"GeneratorFunction"),n.isGeneratorFunction=function(n){var r="function"==typeof n&&n.constructor;return!!r&&(r===d||"GeneratorFunction"===(r.displayName||r.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,u(n,c,"GeneratorFunction")),n.prototype=Object.create(b),n},n.awrap=function(n){return{__await:n}},y(w.prototype),w.prototype[i]=function(){return this},n.AsyncIterator=w,n.async=function(r,t,e,o,a){void 0===a&&(a=Promise);var i=new w(s(r,t,e,o),a);return n.isGeneratorFunction(t)?i:i.next().then((function(n){return n.done?n.value:i.next()}))},y(b),u(b,c,"Generator"),b[a]=function(){return this},b.toString=function(){return"[object Generator]"},n.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},n.values=R,E.prototype={constructor:E,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var c=e.call(a,"catchLoc"),u=e.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(n,r){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===n||"continue"===n)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=n,i.arg=r,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(n,r){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&r&&(this.next=r),p},finish:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),k(t),p}},catch:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===n){var e=t.completion;if("throw"===e.type){var o=e.arg;k(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(n,r,t){return this.delegate={iterator:R(n),resultName:r,nextLoc:t},"next"===this.method&&(this.arg=void 0),p}},n}("object"===r(n)?n.exports:{});try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}}).call(this,t(3)(n))},function(n,r){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,r,t){var e=t(0),o=t(5);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[n.i,o,""]]);var a={insert:"head",singleton:!1};e(o,a);n.exports=o.locals||{}},function(n,r,t){(r=t(1)(!1)).push([n.i,"* {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n\r\n\r\nbody {\r\n    font-family: 'Karma',sans-serif;\r\n    background-color: white;\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n/* loader */\r\n.loader {\r\n    border: 16px solid #f3f3f3;\r\n    border-radius: 50%;\r\n    border-top: 16px solid #3498db;\r\n    width: 120px;\r\n    height: 120px;\r\n    -webkit-animation: spin 2s linear infinite; /* Safari */\r\n    animation: spin 2s linear infinite;\r\n  }\r\n  \r\n  @-webkit-keyframes spin {\r\n    0% { -webkit-transform: rotate(0deg); }\r\n    100% { -webkit-transform: rotate(360deg); }\r\n  }\r\n  \r\n  @keyframes spin {\r\n    0% { transform: rotate(0deg); }\r\n    100% { transform: rotate(360deg); }\r\n  }\r\n  \r\n  /* Add animation to \"page content\" */\r\n  .animate-bottom {\r\n    position: relative;\r\n    -webkit-animation-name: animatebottom;\r\n    -webkit-animation-duration: 1s;\r\n    animation-name: animatebottom;\r\n    animation-duration: 1s\r\n  }\r\n  \r\n  @-webkit-keyframes animatebottom {\r\n    from { bottom:-100px; opacity:0 } \r\n    to { bottom:0px; opacity:1 }\r\n  }\r\n  \r\n  @keyframes animatebottom { \r\n    from{ bottom:-100px; opacity:0 } \r\n    to{ bottom:0; opacity:1 }\r\n  }\r\n#content{\r\n    display: none;\r\n    text-align: center;\r\n}\r\n.skip-link {\r\n   position: absolute;\r\n   top: -75px;\r\n   left: 0;\r\n   text-decoration: none;\r\n   background-color: #bf1722;\r\n   color: white;\r\n   padding: 8px;\r\n   z-index: 100;\r\n}\r\n.skip-link:focus{\r\n    top:75px;\r\n}\r\nmain {\r\n    padding: 32px;\r\n    flex: 1;\r\n}\r\n.content {\r\n    margin: 0 auto;\r\n    min-height: 100%;\r\n}\r\n\r\n.content .content__heading {\r\n    font-weight: normal;\r\n}\r\n.app-bar {\r\n    padding: 8px 16px;\r\n    background-color:  #2c3e50;\r\n    display: grid;\r\n    grid-template-columns: auto 1fr auto;\r\n    gap: 10px;\r\n    position: sticky;\r\n    top: 0;\r\n    z-index: 99999;\r\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\r\n}\r\n.app-bar a:fokus, .app-bar a:hover{\r\n    color: var(--nav-text-color-emphasis);\r\n}\r\n.app-bar .app-bar__menu {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.app-bar .app-bar__menu button {\r\n    background-color: transparent;\r\n    color: white;\r\n    border: none;\r\n    font-size: 18px;\r\n    padding: 14px;\r\n    width: 44px;\r\n    height: 44px;\r\n    cursor: pointer;\r\n}\r\n\r\n.app-bar .app-bar__brand {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.app-bar .app-bar__brand h1 {\r\n    color: #db0000;\r\n    text-transform: uppercase;\r\n    font-size: 18px;\r\n    user-select: none;\r\n}\r\n.app-bar .app-bar__brand img {\r\n    display: block;\r\n}\r\n\r\n.app-bar .app-bar__navigation {\r\n    position: absolute;\r\n    top: 50px;\r\n    left: -180px;\r\n    width: 150px;\r\n    transition: all 0.3s;\r\n    padding: 8px;\r\n    background-color:  #2c3e50;\r\n    overflow: hidden;\r\n}\r\n\r\n.app-bar .app-bar__navigation.open {\r\n    left: 0;\r\n}\r\n\r\n.app-bar .app-bar__navigation ul li a {\r\n    display: inline-block;\r\n    text-decoration: none;\r\n    color: white;\r\n    padding: 10px;\r\n    margin-bottom: 5px;\r\n    width: 100%;\r\n}\r\n.app-bar .app-bar__navigation ul li a:hover {\r\n    color: white;\r\n    background-color: blueviolet;\r\n}\r\n\r\n/*\r\n * latest\r\n */\r\n\r\n.latest {\r\n    align-content: center;\r\n    width: 100%;\r\n    margin: auto;\r\n    text-align: center;\r\n}\r\n\r\n.latest__label {\r\n    font-size: 32px;\r\n    font-weight: lighter;\r\n}\r\n\r\n.latest__label::after {\r\n    content: '';\r\n    margin-top: 16px;\r\n    display: block;\r\n    border-bottom: 1px solid #eeeeee;\r\n}\r\n\r\n/*\r\n * restaurants\r\n */\r\n\r\n.restaurants {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    gap: 16px;\r\n    margin: 32px 0;\r\n}\r\n/*\r\n * restaurant item\r\n */\r\n.restaurant-item {\r\n    width: 100%;\r\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\r\n    border-radius: 8px;\r\n    overflow: hidden;\r\n}\r\n\r\n.restaurant-item__header {\r\n    position: relative;\r\n}\r\n\r\n.restaurant-item .restaurant-item__header .restaurant-item__header__poster {\r\n    height: 200px;\r\n    width: 100%;\r\n}\r\n\r\n.restaurant-item .restaurant-item__header .restaurant-item__header__rating {\r\n    position: absolute;\r\n    padding: 8px;\r\n    bottom: 20px;\r\n    left: 0;\r\n    display: inline-block;\r\n    background-color: black;\r\n    color: white;\r\n}\r\n\r\n.restaurant-item .restaurant-item__header .restaurant-item__header__rating .restaurant-item__header__rating__score {\r\n    margin-left: 10px;\r\n}\r\n\r\n.restaurant-item .restaurant-item__header .restaurant-item__header__city {\r\n    position: absolute;\r\n    padding: 8px;\r\n    bottom: 20px;\r\n    right: 0;\r\n    display: inline-block;\r\n    background-color: black;\r\n    color: white;\r\n}\r\n.restaurant-item .restaurant-item__content {\r\n    padding: 16px;\r\n}\r\n\r\n.restaurant-item .restaurant-item__content h3 {\r\n    margin: 0 0 10px 0;\r\n}\r\n\r\n.restaurant-item .restaurant-item__content h3 a {\r\n    color: #db0000;\r\n    text-decoration: none;\r\n}\r\n\r\n.restaurant-item .restaurant-item__content p {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 4;\r\n    /* number of lines to show */\r\n    -webkit-box-orient: vertical;\r\n}\r\n\r\n.restaurant {\r\n    margin: 0 auto;\r\n    width: 100%;\r\n    max-width: 800px;\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    gap: 18px 16px;\r\n}\r\n\r\n.restaurant .restaurant__poster {\r\n    width: 100%;\r\n}\r\n\r\n.restaurant .restaurant__info h4 {\r\n    margin: 8px 0;\r\n}\r\n.restaurant .restaurant__food {\r\n   display: flex;\r\n   align-items: center;\r\n   justify-content: center;\r\n   flex-flow: column wrap;\r\n   align-content: stretch;\r\n}\r\n.restaurant .restaurant__drink {\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n.row {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n}\r\n.column {\r\n    flex: 50%;\r\n    padding: 20px;\r\n}\r\nbutton.back{\r\n    display: flex;\r\n    flex:10%;\r\n    align-content: flex-start;\r\n    width: fit-content;\r\n    padding: 18px;\r\n    cursor: pointer;\r\n    background-color: #2c3e50;\r\n    color: white;\r\n}\r\nbutton.open{\r\n    display: flex;\r\n    flex:10%;\r\n    align-content: center;\r\n    width: fit-content;\r\n    padding: 10px;\r\n    cursor: pointer;\r\n    background-color: #2c3e50;\r\n    color: white;\r\n}\r\n.like {\r\n    font-size: 18px;\r\n    position: fixed;\r\n    bottom: 16px;\r\n    right: 16px;\r\n    background-color: #db0000;\r\n    color: white;\r\n    border: 0;\r\n    border-radius: 50%;\r\n    width: 55px;\r\n    height: 55px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n.restaurant-detail{\r\n    position: relative;\r\n    text-align: center;\r\n}\r\n.restaurant-detail img {\r\n    width: 100%;\r\n}\r\n.restaurant-detail .title{\r\n    position: absolute;\r\n    top: 20px;\r\n    left: 25%;\r\n    right: 25%;\r\n    background-color: red;\r\n    opacity: 0.7;\r\n    width: auto;\r\n    height: auto;\r\n    color: #f3f3f3;\r\n    box-shadow: #3498db;\r\n    padding: 10px 0;\r\n}\r\n.restaurant-detail .title h1{\r\n    font-size: large;\r\n    font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;\r\n}\r\n.restaurant-detail .rating{\r\n    position: absolute;\r\n    padding: 8px;\r\n    top: 20px;\r\n    left: 0;\r\n    display: inline-block;\r\n    background-color: red;\r\n    color: white;\r\n}\r\n.restaurant-detail .tag{\r\n    position: absolute;\r\n    padding: 8px;\r\n    top: 20px;\r\n    right: 0;\r\n    display: inline-block;\r\n    background-color: red;\r\n    color: white;\r\n}\r\n.restaurant-detail .fooddrink{\r\n    position: absolute;\r\n    padding: 8px;\r\n    bottom: 20px;\r\n    left: 0;\r\n    right: 0;\r\n    display: inline-block;\r\n    background-color: black;\r\n    color: white;\r\n    opacity: 0.8;\r\n}\r\n.restaurant-detail .drink{\r\n    position: absolute;\r\n    padding: 8px;\r\n    bottom: 20px;\r\n    right: 0;\r\n    display: inline-block;\r\n    background-color: greenyellow;\r\n    color: white;\r\n}\r\n/*\r\n * footer\r\n */\r\n\r\n\r\nfooter {\r\n    background-color: #2c3e50;\r\n    padding: 2em;\r\n    width: 100%;\r\n    text-align: center;\r\n}\r\n\r\nfooter ul {\r\n    margin: 0 auto;\r\n    display: inline-block;\r\n}\r\n\r\nfooter li {\r\n    display: inline-block;\r\n    margin: 0 1em;\r\n    font-size: 14px;\r\n}\r\n\r\nfooter p.footer {\r\n    display: inline-block;\r\n    padding: 1.3em;\r\n    text-decoration: none;\r\n    color: #fff\r\n}\r\n\r\n  .feedback-input {\r\n    color:rgb(0, 0, 0);\r\n    font-family: Helvetica, Arial, sans-serif;\r\n    font-weight:500;\r\n    font-size: 18px;\r\n    border-radius: 5px;\r\n    line-height: 22px;\r\n    background-color: transparent;\r\n    border:2px solid #CC6666;\r\n    transition: all 0.3s;\r\n    padding: 13px;\r\n    margin-bottom: 15px;\r\n    width:100%;\r\n    box-sizing: border-box;\r\n    outline:0;\r\n  }\r\n  \r\n  .feedback-input:focus { border:2px solid #CC4949; }\r\n  \r\n  textarea {\r\n    height: 150px;\r\n    line-height: 150%;\r\n    resize:vertical;\r\n  }\r\n  \r\n  [type=\"button\"] {\r\n    font-family: 'Montserrat', Arial, Helvetica, sans-serif;\r\n    width: 100%;\r\n    background:#CC6666;\r\n    border-radius:5px;\r\n    border:0;\r\n    cursor:pointer;\r\n    color:black;\r\n    font-size:24px;\r\n    padding-top:10px;\r\n    padding-bottom:10px;\r\n    transition: all 0.3s;\r\n    margin-top:-4px;\r\n    font-weight:700;\r\n  }\r\n  [type=\"button\"]:hover { background:#CC4949; }",""]),n.exports=r},function(n,r,t){var e=t(0),o=t(7);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[n.i,o,""]]);var a={insert:"head",singleton:!1};e(o,a);n.exports=o.locals||{}},function(n,r,t){(r=t(1)(!1)).push([n.i,".posts {\r\n    display: grid;\r\n    grid-row-gap: 16px;\r\n}\r\n@media screen and (max-width: 600px) {\r\n    .row {\r\n        flex-direction: column;\r\n    }\r\n}\r\n@media screen and (min-width: 650px) {\r\n    .posts {\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr;\r\n        grid-column-gap: 10px;\r\n        grid-row-gap: 16px;\r\n    }\r\n    .app-bar {\r\n        grid-template-columns: 1fr auto;\r\n        padding: 8px 32px;\r\n    }\r\n\r\n    .app-bar .app-bar__brand h1 {\r\n        font-size: 1.5em;\r\n    }\r\n\r\n    .app-bar .app-bar__menu {\r\n        display: none;\r\n    }\r\n\r\n    .app-bar .app-bar__navigation {\r\n        position: static;\r\n        width: 100%;\r\n    }\r\n\r\n    .app-bar .app-bar__navigation ul li {\r\n        display: inline-block;\r\n    }\r\n\r\n    .app-bar .app-bar__navigation ul li a {\r\n        display: inline-block;\r\n        width: 120px;\r\n        text-align: center;\r\n        margin: 0;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 900px) {\r\n    .headline {\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr;\r\n    }\r\n\r\n    .posts {\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr 1fr;\r\n    }\r\n    .hide-large{display:none!important}\r\n}\r\n\r\n@media screen and (min-width: 1200px) {\r\n    main {\r\n        max-width: 3440px;\r\n\r\n    }\r\n     .posts {\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr 1fr 1fr;\r\n    }\r\n    \r\n}",""]),n.exports=r},function(n,r,t){"use strict";t.r(r);t(2),t(4),t(6);var e=t.p+"bebba89a21e0100979ebceaa750c86cd.webp";function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function a(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function i(n,r){return!r||"object"!==o(r)&&"function"!=typeof r?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):r}function c(n){var r="function"==typeof Map?new Map:void 0;return(c=function(n){if(null===n||(t=n,-1===Function.toString.call(t).indexOf("[native code]")))return n;var t;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(n))return r.get(n);r.set(n,e)}function e(){return u(n,arguments,p(this).constructor)}return e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),l(e,n)})(n)}function u(n,r,t){return(u=s()?Reflect.construct:function(n,r,t){var e=[null];e.push.apply(e,r);var o=new(Function.bind.apply(n,e));return t&&l(o,t.prototype),o}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function l(n,r){return(l=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(n,r)}function p(n){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var f=function(n){!function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),r&&l(n,r)}(d,n);var r,t,o,c,u,f=(r=d,t=s(),function(){var n,e=p(r);if(t){var o=p(this).constructor;n=Reflect.construct(e,arguments,o)}else n=e.apply(this,arguments);return i(this,n)});function d(){var n;return function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,d),(n=f.call(this)).shadowDOM=n.attachShadow({mode:"open"}),n}return o=d,(c=[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){this.shadowDOM.innerHTML="\n<style>\n@import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');\n.hero {\n    display: flex;\n    align-items: center;\n    padding-top:80px;\n    min-height: 360px;\n    width: 100%;\n    text-align: center;\n   background-image: url(\"".concat(e,'");\n   background-position: center;\n   background-color: green;\n}\n.hero-inner {\nbackground-color:#fff;\ndisplay:block;\n    margin: 0 auto;\n    max-width: 800px;\n    opacity:0.75;\n}\n\n.hero-title {\n    color: #65a2e4;\n    font-weight: 500;\n    font-size: 36px;\n    font-family: \'Pacifico\', cursive;\n}\n\n.hero-tagline {\n    color: #65a2e4;\n   margin-top: 16px;\n    font-size: 18px;\n    font-weight: 300;\n    font-family: \'Pacifico\', cursive;\n}\n       </style>\n        <div class="hero">\n        \n    <div class="hero-inner">\n        <h1 class="hero-title">Kang Restaurant</h1>\n        <p class="hero-tagline">The Best Cirebon Restaurant</p>\n    </div>\n</div>')}}])&&a(o.prototype,c),u&&a(o,u),d}(c(HTMLElement));customElements.define("element-hero",f);var d={init:function(n){var r=this,t=n.button,e=n.drawer,o=n.content;t.addEventListener("click",(function(n){r._toggleDrawer(n,e)})),o.addEventListener("click",(function(n){r._closeDrawer(n,e)}))},_toggleDrawer:function(n,r){n.stopPropagation(),r.classList.toggle("open")},_closeDrawer:function(n,r){n.stopPropagation(),r.classList.remove("open")}},h={parseActiveUrlWithCombiner:function(){var n=window.location.hash.slice(1).toLowerCase(),r=this._urlSplitter(n);return this._urlCombiner(r)},parseActiveUrlWithoutCombiner:function(){var n=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(n)},_urlSplitter:function(n){var r=n.split("/");return{resource:r[1]||null,id:r[2]||null,verb:r[3]||null}},_urlCombiner:function(n){return(n.resource?"/".concat(n.resource):"/")+(n.id?"/:id":"")+(n.verb?"/".concat(n.verb):"")}},m={KEY:"12345",BASE_URL:"https://dicoding-restaurant-api.el.r.appspot.com/",BASE_IMAGE_URL:"https://dicoding-restaurant-api.el.r.appspot.com/images/medium/",BASE_IMAGE_LARGE_URL:"https://dicoding-restaurant-api.el.r.appspot.com/images/large/",DATABASE_NAME:"kang-restaurant-database",OBJECT_STORE_NAME:"restaurant"},v={HOME:"".concat(m.BASE_URL,"list"),DETAIL:function(n){return"".concat(m.BASE_URL,"detail/").concat(n)},REVIEW:"".concat(m.BASE_URL,"review")};function g(n,r,t,e,o,a,i){try{var c=n[a](i),u=c.value}catch(n){return void t(n)}c.done?r(u):Promise.resolve(u).then(e,o)}function b(n){return function(){var r=this,t=arguments;return new Promise((function(e,o){var a=n.apply(r,t);function i(n){g(a,e,o,i,c,"next",n)}function c(n){g(a,e,o,i,c,"throw",n)}i(void 0)}))}}function y(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}var w=function(){function n(){!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n)}var r,t,e,o,a,i;return r=n,t=null,e=[{key:"home",value:(i=b(regeneratorRuntime.mark((function n(){var r,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(v.HOME);case 2:return r=n.sent,n.next=5,r.json();case 5:return t=n.sent,n.abrupt("return",t.restaurants);case 7:case"end":return n.stop()}}),n)}))),function(){return i.apply(this,arguments)})},{key:"detailRestaurant",value:(a=b(regeneratorRuntime.mark((function n(r){var t,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(v.DETAIL(r));case 2:return t=n.sent,n.next=5,t.json();case 5:return e=n.sent,n.abrupt("return",e.restaurant);case 7:case"end":return n.stop()}}),n)}))),function(n){return a.apply(this,arguments)})},{key:"review",value:(o=b(regeneratorRuntime.mark((function n(){var r,t,e,o=arguments;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:{},n.next=3,fetch(v.REVIEW,{method:"POST",headers:{"X-Auth-Token":m.KEY,"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return t=n.sent,n.next=6,t.json();case 6:if(e=n.sent,console.log(e),console.log(r),"success"!==e.message){n.next=15;break}return window.alert("Berhasil ditambahkan"),window.location.reload(),n.abrupt("return",!0);case 15:return window.alert("Gagal Ditambahkan"),n.abrupt("return",!1);case 17:case"end":return n.stop()}}),n)}))),function(){return o.apply(this,arguments)})}],t&&y(r.prototype,t),e&&y(r,e),n}(),x=function(n,r,t,e,o){return"\n<h1>".concat(n.name," ( ").concat(n.city," )</h1>\n<h6>").concat(n.address,"</h6>\n<div class='restaurant-detail'>\n  <img src=\"").concat(m.BASE_IMAGE_URL+n.pictureId,'" alt="').concat(n.name,"\" style=\"width=100%\">\n  <div class='tag'>\n    <i class='fa fa-tag'></i> ").concat(o,"&middot; <i class='fa fa-tag'></i>\n  </div>\n  <p class='rating'><i class='fa fa-star' style=\"color:yellow\"></i>").concat(n.rating,"</p>\n</div>\n  <div class=\"restaurant__overview\">\n    <h3><i class='fa fa-cutlery'></i> Foods :</h3>\n    <p>\n    ").concat(r," &middot;</p>\n    <h3><i class='fa fa-glass'></i> Drinks :</h3>\n    <p>\n    ").concat(t," &middot;</p>\n    <h3>Deskripsi</h3>\n    <p>").concat(n.description,"</p>\n  </div>\n  <div class=\"restaurant__info\">\n  <h3>Customer Review</h3>\n  </div>\n  <div class='row'>\n    <div class='column'>\n        ").concat(e,"\n    </div>\n    <div class='column'>\n    \n      <input type=\"hidden\" value='").concat(n.id,"'>      \n      <input name=\"name\" type=\"text\" class=\"feedback-input\" id='name' placeholder=\"Name\" />   \n      <textarea name=\"text\" class=\"feedback-input\" id='review' placeholder=\"Comment\"></textarea>\n      <button id='submit' type='button'>Submit</button>\n    \n    </div>\n  </div>\n  <div class='row'>\n    <div class='column'>\n    <button aria-label='back to home' onclick=\"window.location.href='#/'\" class='back'>Back to Home</button>\n    </div>\n  </div>\n</div>\n")},_=function(n){return'\n<article class="restaurant-item">\n    <div class="restaurant-item__header">\n        <img class="restaurant-item__header__poster" alt="'.concat(n.name,'"\n            src="').concat(n.pictureId?m.BASE_IMAGE_URL+n.pictureId:"https://picsum.photos/id/666/800/450?grayscale",'">\n        <div class="restaurant-item__header__rating">\n            <p><i class=\'fa fa-star\' style=\'color:yellow\'></i><span class="restaurant-item__header__rating__score">').concat(n.rating,'</span></p>\n        </div>\n        <div class="restaurant-item__header__city">\n            <p><span class="restaurant-item__header__rating__score">').concat(n.city,'</span>       <i class=\'fa fa-map-marker\'></i></p>\n        </div>\n    </div>\n    <div class="restaurant-item__content">\n        <h3><a href="',"/#/detail/".concat(n.id),'">').concat(n.name,"</a></h3>\n        <p>").concat(n.description,"</p>\n    </div>\n  </article>\n")};function k(n,r,t,e,o,a,i){try{var c=n[a](i),u=c.value}catch(n){return void t(n)}c.done?r(u):Promise.resolve(u).then(e,o)}function E(n){return function(){var r=this,t=arguments;return new Promise((function(e,o){var a=n.apply(r,t);function i(n){k(a,e,o,i,c,"next",n)}function c(n){k(a,e,o,i,c,"throw",n)}i(void 0)}))}}var R,S,L={render:function(){return E(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",'\n    <div class="latest">\n        <h1 class="latest__label">Explore Restaurant</h1>\n        <div class="posts" id="restaurant"></div>\n    </div>\n    ');case 1:case"end":return n.stop()}}),n)})))()},afterRender:function(){return E(regeneratorRuntime.mark((function n(){var r,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.home();case 2:r=n.sent,console.log(r),document.querySelector("#hero").style.display="block",t=document.querySelector("#restaurant"),r.forEach((function(n){t.innerHTML+=_(n)}));case 7:case"end":return n.stop()}}),n)})))()}};var O=new WeakMap,j=new WeakMap,P=new WeakMap,B=new WeakMap,A=new WeakMap;var C={get:function(n,r,t){if(n instanceof IDBTransaction){if("done"===r)return j.get(n);if("objectStoreNames"===r)return n.objectStoreNames||P.get(n);if("store"===r)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return D(n[r])},set:function(n,r,t){return n[r]=t,!0},has:function(n,r){return n instanceof IDBTransaction&&("done"===r||"store"===r)||r in n}};function I(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(S||(S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return n.apply(M(this),t),D(O.get(this))}:function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return D(n.apply(M(this),t))}:function(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];var a=n.call.apply(n,[M(this),r].concat(e));return P.set(a,r.sort?r.sort():[r]),D(a)}}function T(n){return"function"==typeof n?I(n):(n instanceof IDBTransaction&&function(n){if(!j.has(n)){var r=new Promise((function(r,t){var e=function(){n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=function(){r(),e()},a=function(){t(n.error||new DOMException("AbortError","AbortError")),e()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)}));j.set(n,r)}}(n),r=n,(R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(n){return r instanceof n}))?new Proxy(n,C):n);var r}function D(n){if(n instanceof IDBRequest)return r=n,(t=new Promise((function(n,t){var e=function(){r.removeEventListener("success",o),r.removeEventListener("error",a)},o=function(){n(D(r.result)),e()},a=function(){t(r.error),e()};r.addEventListener("success",o),r.addEventListener("error",a)}))).then((function(n){n instanceof IDBCursor&&O.set(n,r)})).catch((function(){})),A.set(t,r),t;var r,t;if(B.has(n))return B.get(n);var e=T(n);return e!==n&&(B.set(n,e),A.set(e,n)),e}var M=function(n){return A.get(n)};function N(n,r){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),t.push.apply(t,e)}return t}function U(n){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?N(Object(t),!0).forEach((function(r){q(n,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))}))}return n}function q(n,r,t){return r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}function z(n,r,t,e,o,a,i){try{var c=n[a](i),u=c.value}catch(n){return void t(n)}c.done?r(u):Promise.resolve(u).then(e,o)}var H=["get","getKey","getAll","getAllKeys","count"],G=["put","add","delete","clear"],W=new Map;function F(n,r){if(n instanceof IDBDatabase&&!(r in n)&&"string"==typeof r){if(W.get(r))return W.get(r);var t=r.replace(/FromIndex$/,""),e=r!==t,o=G.includes(t);if(t in(e?IDBIndex:IDBObjectStore).prototype&&(o||H.includes(t))){var a=function(){var n,r=(n=regeneratorRuntime.mark((function n(r){var a,i,c,u,s,l,p,f=arguments;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(i=this.transaction(r,o?"readwrite":"readonly"),c=i.store,u=f.length,s=new Array(u>1?u-1:0),l=1;l<u;l++)s[l-1]=f[l];return e&&(c=c.index(s.shift())),n.next=6,(a=c)[t].apply(a,s);case 6:if(p=n.sent,!o){n.next=10;break}return n.next=10,i.done;case 10:return n.abrupt("return",p);case 11:case"end":return n.stop()}}),n,this)})),function(){var r=this,t=arguments;return new Promise((function(e,o){var a=n.apply(r,t);function i(n){z(a,e,o,i,c,"next",n)}function c(n){z(a,e,o,i,c,"throw",n)}i(void 0)}))});return function(n){return r.apply(this,arguments)}}();return W.set(r,a),a}}}function K(n,r,t,e,o,a,i){try{var c=n[a](i),u=c.value}catch(n){return void t(n)}c.done?r(u):Promise.resolve(u).then(e,o)}function J(n){return function(){var r=this,t=arguments;return new Promise((function(e,o){var a=n.apply(r,t);function i(n){K(a,e,o,i,c,"next",n)}function c(n){K(a,e,o,i,c,"throw",n)}i(void 0)}))}}C=function(n){return U(U({},n),{},{get:function(r,t,e){return F(r,t)||n.get(r,t,e)},has:function(r,t){return!!F(r,t)||n.has(r,t)}})}(C);var V=m.OBJECT_STORE_NAME,Y=function(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=t.blocked,o=t.upgrade,a=t.blocking,i=t.terminated,c=indexedDB.open(n,r),u=D(c);return o&&c.addEventListener("upgradeneeded",(function(n){o(D(c.result),n.oldVersion,n.newVersion,D(c.transaction))})),e&&c.addEventListener("blocked",(function(){return e()})),u.then((function(n){i&&n.addEventListener("close",(function(){return i()})),a&&n.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(m.DATABASE_NAME,m.DATABASE_VERSION,{upgrade:function(n){n.createObjectStore(V,{keyPath:"id"})}}),X={getRestaurant:function(n){return J(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Y;case 2:return r.abrupt("return",r.sent.get(V,n));case 3:case"end":return r.stop()}}),r)})))()},getAllRestaurant:function(){return J(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Y;case 2:return n.abrupt("return",n.sent.getAll(V));case 3:case"end":return n.stop()}}),n)})))()},putRestaurant:function(n){return J(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Y;case 2:return r.abrupt("return",r.sent.put(V,n));case 3:case"end":return r.stop()}}),r)})))()},deleteRestaurant:function(n){return J(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Y;case 2:return r.abrupt("return",r.sent.delete(V,n));case 3:case"end":return r.stop()}}),r)})))()}};function $(n,r,t,e,o,a,i){try{var c=n[a](i),u=c.value}catch(n){return void t(n)}c.done?r(u):Promise.resolve(u).then(e,o)}function Q(n){return function(){var r=this,t=arguments;return new Promise((function(e,o){var a=n.apply(r,t);function i(n){$(a,e,o,i,c,"next",n)}function c(n){$(a,e,o,i,c,"throw",n)}i(void 0)}))}}function Z(n,r,t,e,o,a,i){try{var c=n[a](i),u=c.value}catch(n){return void t(n)}c.done?r(u):Promise.resolve(u).then(e,o)}function nn(n){return function(){var r=this,t=arguments;return new Promise((function(e,o){var a=n.apply(r,t);function i(n){Z(a,e,o,i,c,"next",n)}function c(n){Z(a,e,o,i,c,"throw",n)}i(void 0)}))}}var rn={init:function(n){var r=this;return nn(regeneratorRuntime.mark((function t(){var e,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.likeButtonContainer,o=n.restaurant,r._likeButtonContainer=e,r._restaurant=o,t.next=5,r._renderButton();case 5:case"end":return t.stop()}}),t)})))()},_renderButton:function(){var n=this;return nn(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=n._restaurant.id,r.next=3,n._isRestaurantExist(t);case 3:if(!r.sent){r.next=7;break}n._renderLiked(),r.next=8;break;case 7:n._renderLike();case 8:case"end":return r.stop()}}),r)})))()},_isRestaurantExist:function(n){return nn(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,X.getRestaurant(n);case 2:return t=r.sent,r.abrupt("return",!!t);case 4:case"end":return r.stop()}}),r)})))()},_renderLiked:function(){var n=this;this._likeButtonContainer.innerHTML='\n  <button aria-label="unlike this restaurant" id="likeButton" class="like">\n    <i class="fa fa-heart" aria-hidden="true"></i>\n  </button>\n',document.querySelector("#likeButton").addEventListener("click",nn(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,X.deleteRestaurant(n._restaurant.id);case 2:n._renderButton(),console.log("Unlike");case 4:case"end":return r.stop()}}),r)}))))},_renderLike:function(){var n=this;this._likeButtonContainer.innerHTML='\n  <button aria-label="like this restaurant" id="likeButton" class="like">\n     <i class="fa fa-heart-o" aria-hidden="true"></i>\n  </button>\n',document.querySelector("#likeButton").addEventListener("click",nn(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,X.putRestaurant(n._restaurant);case 2:n._renderButton(),console.log("Liked");case 4:case"end":return r.stop()}}),r)}))))}};function tn(n,r,t,e,o,a,i){try{var c=n[a](i),u=c.value}catch(n){return void t(n)}c.done?r(u):Promise.resolve(u).then(e,o)}function en(n){return function(){var r=this,t=arguments;return new Promise((function(e,o){var a=n.apply(r,t);function i(n){tn(a,e,o,i,c,"next",n)}function c(n){tn(a,e,o,i,c,"throw",n)}i(void 0)}))}}var on={"/":L,"/home":L,"/favorite":{render:function(){return Q(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",'\n    <div class="latest">\n        <h1 class="latest__label">Your Favorite Restaurant</h1>\n        <div class="posts" id="restaurant"></div>\n    </div>\n      ');case 1:case"end":return n.stop()}}),n)})))()},afterRender:function(){return Q(regeneratorRuntime.mark((function n(){var r,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X.getAllRestaurant();case 2:r=n.sent,t=document.querySelector("#restaurant"),document.querySelector("#hero").style.display="none",document.querySelector("#skip").style.display="none",r.forEach((function(n){t.innerHTML+=_(n)}));case 7:case"end":return n.stop()}}),n)})))()}},"/detail/:id":{render:function(){return en(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return","\n    <section id='restaurant' class='restaurant'></section>\n    <div id=\"likeButtonContainer\"></div>\n      ");case 1:case"end":return n.stop()}}),n)})))()},afterRender:function(){return en(regeneratorRuntime.mark((function n(){var r,t,e,o,a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=h.parseActiveUrlWithoutCombiner(),n.next=3,w.detailRestaurant(r.id);case 3:t=n.sent,console.log(t),document.querySelector("#hero").style.display="none",document.querySelector("#skip").style.display="none",e=document.querySelector("#restaurant"),o="",a="",i="",c="",t.menus.foods.forEach((function(n){o+="&middot; ".concat(n.name," ")})),t.menus.drinks.forEach((function(n){a+="&middot; ".concat(n.name," ")})),t.consumerReviews.forEach((function(n){i+="".concat(n.name," : ").concat(n.review,"<br>")})),t.categories.forEach((function(n){c+="&middot;&nbsp;<u> ".concat(n.name," </u>&nbsp;")})),e.innerHTML=x(t,o,a,i,c),rn.init({likeButtonContainer:document.querySelector("#likeButtonContainer"),restaurant:t}),document.getElementById("submit").addEventListener("click",en(regeneratorRuntime.mark((function n(){var r,e,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=document.getElementById("name").value,e=document.getElementById("review").value,n.next=4,w.review({id:t.id,name:r,review:e});case 4:o=n.sent,console.log(o);case 6:case"end":return n.stop()}}),n)}))));case 20:case"end":return n.stop()}}),n)})))()}}};function an(n,r,t,e,o,a,i){try{var c=n[a](i),u=c.value}catch(n){return void t(n)}c.done?r(u):Promise.resolve(u).then(e,o)}function cn(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}var un=function(){function n(r){var t=r.button,e=r.drawer,o=r.content;!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n),this._button=t,this._drawer=e,this._content=o,this._initialAppShell()}var r,t,e,o,a;return r=n,(t=[{key:"_initialAppShell",value:function(){d.init({button:this._button,drawer:this._drawer,content:this._content})}},{key:"renderPage",value:(o=regeneratorRuntime.mark((function n(){var r,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=h.parseActiveUrlWithCombiner(),t=on[r],n.next=4,t.render();case 4:return this._content.innerHTML=n.sent,n.next=7,t.afterRender();case 7:case"end":return n.stop()}}),n,this)})),a=function(){var n=this,r=arguments;return new Promise((function(t,e){var a=o.apply(n,r);function i(n){an(a,t,e,i,c,"next",n)}function c(n){an(a,t,e,i,c,"throw",n)}i(void 0)}))},function(){return a.apply(this,arguments)})}])&&cn(r.prototype,t),e&&cn(r,e),n}();function sn(n,r,t,e,o,a,i){try{var c=n[a](i),u=c.value}catch(n){return void t(n)}c.done?r(u):Promise.resolve(u).then(e,o)}(function(){var n,r=(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(n){console.log("SW registered: ",n)})).catch((function(n){console.log("Service worker not supported in this browser")}))}));case 1:case"end":return n.stop()}}),n)})),function(){var r=this,t=arguments;return new Promise((function(e,o){var a=n.apply(r,t);function i(n){sn(a,e,o,i,c,"next",n)}function c(n){sn(a,e,o,i,c,"throw",n)}i(void 0)}))});return function(){return r.apply(this,arguments)}})()();var ln=new un({button:document.querySelector("#hamburgerButton"),drawer:document.querySelector("#navigationDrawer"),content:document.querySelector("#content")});function pn(){setTimeout(fn,3e3)}function fn(){document.getElementById("loader").style.display="none",document.getElementById("content").style.display="block"}window.addEventListener("hashchange",(function(){ln.renderPage(),pn()})),window.addEventListener("load",(function(){ln.renderPage(),pn()}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvbWFpbi5jc3M/ZTgwYSIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL21haW4uY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvcmVzcG9uc2l2ZS5jc3M/N2Q3NSIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL3Jlc3BvbnNpdmUuY3NzIiwid2VicGFjazovLy8uL3NyYy9wdWJsaWMvaW1hZ2VzL2hlcm9zLzIud2VicCIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2VsZW1lbnQtaGVyby5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy91dGlscy9kcmF3ZXItaW5pdGlhdG9yLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3JvdXRlcy91cmwtcGFyc2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2dsb2JhbHMvY29uZmlnLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2dsb2JhbHMvYXBpLWVuZHBvaW50LmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2RhdGEvcmVzdGF1cmFudC1zb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdmlld3MvdGVtcGxhdGVzL3RlbXBsYXRlLWNyZWF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdmlld3MvcGFnZXMvaG9tZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWRiL2J1aWxkL2VzbS93cmFwLWlkYi12YWx1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWRiL2J1aWxkL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9kYXRhL2Zhdm9yaXRlcmVzdG8taWRiLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3V0aWxzL2xpa2UtYnV0dG9uLWluaXRpYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy92aWV3cy9wYWdlcy9kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvcm91dGVzL3JvdXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy92aWV3cy9wYWdlcy9mYXZvcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy92aWV3cy9hcHAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdXRpbHMvc3ctcmVnaXN0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJsZW5ndGgiLCJtb2R1bGVzVG9Eb20iLCJsaXN0Iiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb3VudCIsImNvbmNhdCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsInB1c2giLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJ1c2VTb3VyY2VNYXAiLCJ0aGlzIiwibWFwIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwiYmFzZTY0IiwiZGF0YSIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsInJ1bnRpbWUiLCJPcCIsImhhc093biIsIiRTeW1ib2wiLCJpdGVyYXRvclN5bWJvbCIsIml0ZXJhdG9yIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsImRlZmluZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZXJyIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwic2VsZiIsInRyeUxvY3NMaXN0IiwicHJvdG9HZW5lcmF0b3IiLCJHZW5lcmF0b3IiLCJnZW5lcmF0b3IiLCJjb250ZXh0IiwiQ29udGV4dCIsIl9pbnZva2UiLCJzdGF0ZSIsIm1ldGhvZCIsImFyZyIsImRvbmVSZXN1bHQiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsIkNvbnRpbnVlU2VudGluZWwiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsInJlY29yZCIsInRyeUNhdGNoIiwidHlwZSIsImRvbmUiLCJtYWtlSW52b2tlTWV0aG9kIiwiZm4iLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRQcm90byIsImdldFByb3RvdHlwZU9mIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJ2YWx1ZXMiLCJHcCIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsIkFzeW5jSXRlcmF0b3IiLCJQcm9taXNlSW1wbCIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwicmVzb2x2ZSIsInJlamVjdCIsImludm9rZSIsIl9fYXdhaXQiLCJ0aGVuIiwidW53cmFwcGVkIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJUeXBlRXJyb3IiLCJpbmZvIiwicmVzdWx0TmFtZSIsIm5leHQiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsImVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsIml0ZXJhYmxlIiwiaXRlcmF0b3JNZXRob2QiLCJpc05hTiIsImNvbnN0cnVjdG9yIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiZ2VuRnVuIiwiY3RvciIsIm1hcmsiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImF3cmFwIiwiYXN5bmMiLCJQcm9taXNlIiwiaXRlciIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiYWNjaWRlbnRhbFN0cmljdE1vZGUiLCJGdW5jdGlvbiIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiY2hpbGRyZW4iLCJhcGkiLCJkZWZhdWx0IiwibG9jYWxzIiwiX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIiwiSGVyb0VsZW1lbnQiLCJzaGFkb3dET00iLCJhdHRhY2hTaGFkb3ciLCJyZW5kZXIiLCJpbm5lckhUTUwiLCJpbWFnZSIsIkhUTUxFbGVtZW50IiwiY3VzdG9tRWxlbWVudHMiLCJEcmF3ZXJJbml0aWF0b3IiLCJpbml0IiwiYnV0dG9uIiwiZHJhd2VyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiX3RvZ2dsZURyYXdlciIsIl9jbG9zZURyYXdlciIsInN0b3BQcm9wYWdhdGlvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIlVybFBhcnNlciIsInBhcnNlQWN0aXZlVXJsV2l0aENvbWJpbmVyIiwidXJsIiwibG9jYXRpb24iLCJoYXNoIiwidG9Mb3dlckNhc2UiLCJzcGxpdGVkVXJsIiwiX3VybFNwbGl0dGVyIiwiX3VybENvbWJpbmVyIiwicGFyc2VBY3RpdmVVcmxXaXRob3V0Q29tYmluZXIiLCJ1cmxzU3BsaXRzIiwic3BsaXQiLCJyZXNvdXJjZSIsInZlcmIiLCJDT05GSUciLCJLRVkiLCJCQVNFX1VSTCIsIkJBU0VfSU1BR0VfVVJMIiwiQkFTRV9JTUFHRV9MQVJHRV9VUkwiLCJEQVRBQkFTRV9OQU1FIiwiT0JKRUNUX1NUT1JFX05BTUUiLCJBUElfRU5EUE9JTlQiLCJIT01FIiwiREVUQUlMIiwiUkVWSUVXIiwiUmVzdGF1cmFudFNvdXJjZSIsImZldGNoIiwicmVzcG9uc2UiLCJqc29uIiwicmVzcG9uc2VKc29uIiwicmVzdGF1cmFudHMiLCJyZXN0YXVyYW50IiwiaGVhZGVycyIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImFsZXJ0IiwicmVsb2FkIiwiY3JlYXRlUmVzdGF1cmFudERldGFpbFRlbXBsYXRlIiwiZm9vZG1lbnUiLCJkcmlua21lbnUiLCJjb25zdW1lcnJldiIsImNhdGVnb3J5cmVzIiwiY2l0eSIsImFkZHJlc3MiLCJwaWN0dXJlSWQiLCJyYXRpbmciLCJkZXNjcmlwdGlvbiIsImNyZWF0ZVJlc3RhdXJhbnRJdGVtVGVtcGxhdGUiLCJpZGJQcm94eWFibGVUeXBlcyIsImN1cnNvckFkdmFuY2VNZXRob2RzIiwiSG9tZSIsImFmdGVyUmVuZGVyIiwiaG9tZSIsImRpc3BsYXkiLCJyZXN0YXVyYW50Q29udGFpbmVyIiwiY3Vyc29yUmVxdWVzdE1hcCIsIldlYWtNYXAiLCJ0cmFuc2FjdGlvbkRvbmVNYXAiLCJ0cmFuc2FjdGlvblN0b3JlTmFtZXNNYXAiLCJ0cmFuc2Zvcm1DYWNoZSIsInJldmVyc2VUcmFuc2Zvcm1DYWNoZSIsImlkYlByb3h5VHJhcHMiLCJwcm9wIiwicmVjZWl2ZXIiLCJJREJUcmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlTmFtZXMiLCJvYmplY3RTdG9yZSIsInNldCIsImhhcyIsIndyYXBGdW5jdGlvbiIsImZ1bmMiLCJJREJEYXRhYmFzZSIsInRyYW5zYWN0aW9uIiwiSURCQ3Vyc29yIiwiYWR2YW5jZSIsImNvbnRpbnVlUHJpbWFyeUtleSIsImluY2x1ZGVzIiwiYXJncyIsImFwcGx5IiwidW53cmFwIiwic3RvcmVOYW1lcyIsInR4Iiwic29ydCIsInRyYW5zZm9ybUNhY2hhYmxlVmFsdWUiLCJ1bmxpc3RlbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJET01FeGNlcHRpb24iLCJjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24iLCJJREJPYmplY3RTdG9yZSIsIklEQkluZGV4Iiwic29tZSIsIlByb3h5IiwiSURCUmVxdWVzdCIsInJlcXVlc3QiLCJwcm9taXNlIiwic3VjY2VzcyIsIm5ld1ZhbHVlIiwicmVhZE1ldGhvZHMiLCJ3cml0ZU1ldGhvZHMiLCJjYWNoZWRNZXRob2RzIiwiTWFwIiwiZ2V0TWV0aG9kIiwidGFyZ2V0RnVuY05hbWUiLCJyZXBsYWNlIiwidXNlSW5kZXgiLCJpc1dyaXRlIiwic3RvcmVOYW1lIiwic3RvcmUiLCJzaGlmdCIsInJldHVyblZhbCIsIm9sZFRyYXBzIiwiY2FsbGJhY2siLCJkYlByb21pc2UiLCJ2ZXJzaW9uIiwiYmxvY2tlZCIsInVwZ3JhZGUiLCJibG9ja2luZyIsInRlcm1pbmF0ZWQiLCJpbmRleGVkREIiLCJvcGVuIiwib3BlblByb21pc2UiLCJvbGRWZXJzaW9uIiwibmV3VmVyc2lvbiIsImRiIiwib3BlbkRCIiwiREFUQUJBU0VfVkVSU0lPTiIsImRhdGFiYXNlIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiRmF2b3JpdGVSZXN0YXVyYW50SWRiIiwiZ2V0UmVzdGF1cmFudCIsImdldEFsbFJlc3RhdXJhbnQiLCJnZXRBbGwiLCJwdXRSZXN0YXVyYW50IiwicHV0IiwiZGVsZXRlUmVzdGF1cmFudCIsIkxpa2VCdXR0b25Jbml0aWF0b3IiLCJsaWtlQnV0dG9uQ29udGFpbmVyIiwiX2xpa2VCdXR0b25Db250YWluZXIiLCJfcmVzdGF1cmFudCIsIl9yZW5kZXJCdXR0b24iLCJfaXNSZXN0YXVyYW50RXhpc3QiLCJfcmVuZGVyTGlrZWQiLCJfcmVuZGVyTGlrZSIsInJlc3RvIiwicm91dGVzIiwiZGV0YWlsUmVzdGF1cmFudCIsImxpc3Rmb29kIiwibGlzdGRyaW5rIiwibWVudXMiLCJmb29kcyIsImZvb2QiLCJkcmlua3MiLCJkcmluayIsImNvbnN1bWVyUmV2aWV3cyIsInJldmlldyIsImNhdGVnb3JpZXMiLCJjYXQiLCJnZXRFbGVtZW50QnlJZCIsInJldiIsIm1zZyIsIkFwcCIsIl9idXR0b24iLCJfZHJhd2VyIiwiX2NvbnRlbnQiLCJfaW5pdGlhbEFwcFNoZWxsIiwicGFnZSIsIm5hdmlnYXRvciIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInJlZ2lzdHJhdGlvbiIsInJlZ2lzdHJhdGlvbkVycm9yIiwic3dSZWdpc3RlciIsImFwcCIsInByZWxvYWQiLCJzZXRUaW1lb3V0Iiwic2hvd1BhZ2UiLCJyZW5kZXJQYWdlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0Qs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QixRQUFRLFdBQzlCc0wsR0FBSUksYUFDSkgiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoXG4gICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXG4gICAgdG9TdHJpbmdUYWdTeW1ib2wsXG4gICAgXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICk7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIik7XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthc3luY0l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIqIHtcXHJcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbiAgICBwYWRkaW5nOiAwO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5ib2R5IHtcXHJcXG4gICAgZm9udC1mYW1pbHk6ICdLYXJtYScsc2Fucy1zZXJpZjtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxyXFxuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbn1cXHJcXG4vKiBsb2FkZXIgKi9cXHJcXG4ubG9hZGVyIHtcXHJcXG4gICAgYm9yZGVyOiAxNnB4IHNvbGlkICNmM2YzZjM7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXHJcXG4gICAgYm9yZGVyLXRvcDogMTZweCBzb2xpZCAjMzQ5OGRiO1xcclxcbiAgICB3aWR0aDogMTIwcHg7XFxyXFxuICAgIGhlaWdodDogMTIwcHg7XFxyXFxuICAgIC13ZWJraXQtYW5pbWF0aW9uOiBzcGluIDJzIGxpbmVhciBpbmZpbml0ZTsgLyogU2FmYXJpICovXFxyXFxuICAgIGFuaW1hdGlvbjogc3BpbiAycyBsaW5lYXIgaW5maW5pdGU7XFxyXFxuICB9XFxyXFxuICBcXHJcXG4gIEAtd2Via2l0LWtleWZyYW1lcyBzcGluIHtcXHJcXG4gICAgMCUgeyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XFxyXFxuICAgIDEwMCUgeyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cXHJcXG4gIH1cXHJcXG4gIFxcclxcbiAgQGtleWZyYW1lcyBzcGluIHtcXHJcXG4gICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxcclxcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxcclxcbiAgfVxcclxcbiAgXFxyXFxuICAvKiBBZGQgYW5pbWF0aW9uIHRvIFxcXCJwYWdlIGNvbnRlbnRcXFwiICovXFxyXFxuICAuYW5pbWF0ZS1ib3R0b20ge1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICAgIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGFuaW1hdGVib3R0b207XFxyXFxuICAgIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiAxcztcXHJcXG4gICAgYW5pbWF0aW9uLW5hbWU6IGFuaW1hdGVib3R0b207XFxyXFxuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMXNcXHJcXG4gIH1cXHJcXG4gIFxcclxcbiAgQC13ZWJraXQta2V5ZnJhbWVzIGFuaW1hdGVib3R0b20ge1xcclxcbiAgICBmcm9tIHsgYm90dG9tOi0xMDBweDsgb3BhY2l0eTowIH0gXFxyXFxuICAgIHRvIHsgYm90dG9tOjBweDsgb3BhY2l0eToxIH1cXHJcXG4gIH1cXHJcXG4gIFxcclxcbiAgQGtleWZyYW1lcyBhbmltYXRlYm90dG9tIHsgXFxyXFxuICAgIGZyb217IGJvdHRvbTotMTAwcHg7IG9wYWNpdHk6MCB9IFxcclxcbiAgICB0b3sgYm90dG9tOjA7IG9wYWNpdHk6MSB9XFxyXFxuICB9XFxyXFxuI2NvbnRlbnR7XFxyXFxuICAgIGRpc3BsYXk6IG5vbmU7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG59XFxyXFxuLnNraXAtbGluayB7XFxyXFxuICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgIHRvcDogLTc1cHg7XFxyXFxuICAgbGVmdDogMDtcXHJcXG4gICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxyXFxuICAgYmFja2dyb3VuZC1jb2xvcjogI2JmMTcyMjtcXHJcXG4gICBjb2xvcjogd2hpdGU7XFxyXFxuICAgcGFkZGluZzogOHB4O1xcclxcbiAgIHotaW5kZXg6IDEwMDtcXHJcXG59XFxyXFxuLnNraXAtbGluazpmb2N1c3tcXHJcXG4gICAgdG9wOjc1cHg7XFxyXFxufVxcclxcbm1haW4ge1xcclxcbiAgICBwYWRkaW5nOiAzMnB4O1xcclxcbiAgICBmbGV4OiAxO1xcclxcbn1cXHJcXG4uY29udGVudCB7XFxyXFxuICAgIG1hcmdpbjogMCBhdXRvO1xcclxcbiAgICBtaW4taGVpZ2h0OiAxMDAlO1xcclxcbn1cXHJcXG5cXHJcXG4uY29udGVudCAuY29udGVudF9faGVhZGluZyB7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxyXFxufVxcclxcbi5hcHAtYmFyIHtcXHJcXG4gICAgcGFkZGluZzogOHB4IDE2cHg7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICAjMmMzZTUwO1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gMWZyIGF1dG87XFxyXFxuICAgIGdhcDogMTBweDtcXHJcXG4gICAgcG9zaXRpb246IHN0aWNreTtcXHJcXG4gICAgdG9wOiAwO1xcclxcbiAgICB6LWluZGV4OiA5OTk5OTtcXHJcXG4gICAgYm94LXNoYWRvdzogMCAycHggNHB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpO1xcclxcbn1cXHJcXG4uYXBwLWJhciBhOmZva3VzLCAuYXBwLWJhciBhOmhvdmVye1xcclxcbiAgICBjb2xvcjogdmFyKC0tbmF2LXRleHQtY29sb3ItZW1waGFzaXMpO1xcclxcbn1cXHJcXG4uYXBwLWJhciAuYXBwLWJhcl9fbWVudSB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5hcHAtYmFyIC5hcHAtYmFyX19tZW51IGJ1dHRvbiB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxuICAgIGJvcmRlcjogbm9uZTtcXHJcXG4gICAgZm9udC1zaXplOiAxOHB4O1xcclxcbiAgICBwYWRkaW5nOiAxNHB4O1xcclxcbiAgICB3aWR0aDogNDRweDtcXHJcXG4gICAgaGVpZ2h0OiA0NHB4O1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5hcHAtYmFyIC5hcHAtYmFyX19icmFuZCB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5hcHAtYmFyIC5hcHAtYmFyX19icmFuZCBoMSB7XFxyXFxuICAgIGNvbG9yOiAjZGIwMDAwO1xcclxcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcclxcbiAgICBmb250LXNpemU6IDE4cHg7XFxyXFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcclxcbn1cXHJcXG4uYXBwLWJhciAuYXBwLWJhcl9fYnJhbmQgaW1nIHtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxufVxcclxcblxcclxcbi5hcHAtYmFyIC5hcHAtYmFyX19uYXZpZ2F0aW9uIHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICB0b3A6IDUwcHg7XFxyXFxuICAgIGxlZnQ6IC0xODBweDtcXHJcXG4gICAgd2lkdGg6IDE1MHB4O1xcclxcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcztcXHJcXG4gICAgcGFkZGluZzogOHB4O1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAgIzJjM2U1MDtcXHJcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG59XFxyXFxuXFxyXFxuLmFwcC1iYXIgLmFwcC1iYXJfX25hdmlnYXRpb24ub3BlbiB7XFxyXFxuICAgIGxlZnQ6IDA7XFxyXFxufVxcclxcblxcclxcbi5hcHAtYmFyIC5hcHAtYmFyX19uYXZpZ2F0aW9uIHVsIGxpIGEge1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbiAgICBwYWRkaW5nOiAxMHB4O1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbn1cXHJcXG4uYXBwLWJhciAuYXBwLWJhcl9fbmF2aWdhdGlvbiB1bCBsaSBhOmhvdmVyIHtcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVldmlvbGV0O1xcclxcbn1cXHJcXG5cXHJcXG4vKlxcclxcbiAqIGxhdGVzdFxcclxcbiAqL1xcclxcblxcclxcbi5sYXRlc3Qge1xcclxcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBtYXJnaW46IGF1dG87XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLmxhdGVzdF9fbGFiZWwge1xcclxcbiAgICBmb250LXNpemU6IDMycHg7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiBsaWdodGVyO1xcclxcbn1cXHJcXG5cXHJcXG4ubGF0ZXN0X19sYWJlbDo6YWZ0ZXIge1xcclxcbiAgICBjb250ZW50OiAnJztcXHJcXG4gICAgbWFyZ2luLXRvcDogMTZweDtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlZWVlO1xcclxcbn1cXHJcXG5cXHJcXG4vKlxcclxcbiAqIHJlc3RhdXJhbnRzXFxyXFxuICovXFxyXFxuXFxyXFxuLnJlc3RhdXJhbnRzIHtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XFxyXFxuICAgIGdhcDogMTZweDtcXHJcXG4gICAgbWFyZ2luOiAzMnB4IDA7XFxyXFxufVxcclxcbi8qXFxyXFxuICogcmVzdGF1cmFudCBpdGVtXFxyXFxuICovXFxyXFxuLnJlc3RhdXJhbnQtaXRlbSB7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBib3gtc2hhZG93OiAwIDRweCA4cHggMCByZ2JhKDAsIDAsIDAsIDAuMik7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcXHJcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG59XFxyXFxuXFxyXFxuLnJlc3RhdXJhbnQtaXRlbV9faGVhZGVyIHtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbn1cXHJcXG5cXHJcXG4ucmVzdGF1cmFudC1pdGVtIC5yZXN0YXVyYW50LWl0ZW1fX2hlYWRlciAucmVzdGF1cmFudC1pdGVtX19oZWFkZXJfX3Bvc3RlciB7XFxyXFxuICAgIGhlaWdodDogMjAwcHg7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbn1cXHJcXG5cXHJcXG4ucmVzdGF1cmFudC1pdGVtIC5yZXN0YXVyYW50LWl0ZW1fX2hlYWRlciAucmVzdGF1cmFudC1pdGVtX19oZWFkZXJfX3JhdGluZyB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgcGFkZGluZzogOHB4O1xcclxcbiAgICBib3R0b206IDIwcHg7XFxyXFxuICAgIGxlZnQ6IDA7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG59XFxyXFxuXFxyXFxuLnJlc3RhdXJhbnQtaXRlbSAucmVzdGF1cmFudC1pdGVtX19oZWFkZXIgLnJlc3RhdXJhbnQtaXRlbV9faGVhZGVyX19yYXRpbmcgLnJlc3RhdXJhbnQtaXRlbV9faGVhZGVyX19yYXRpbmdfX3Njb3JlIHtcXHJcXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XFxyXFxufVxcclxcblxcclxcbi5yZXN0YXVyYW50LWl0ZW0gLnJlc3RhdXJhbnQtaXRlbV9faGVhZGVyIC5yZXN0YXVyYW50LWl0ZW1fX2hlYWRlcl9fY2l0eSB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgcGFkZGluZzogOHB4O1xcclxcbiAgICBib3R0b206IDIwcHg7XFxyXFxuICAgIHJpZ2h0OiAwO1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxufVxcclxcbi5yZXN0YXVyYW50LWl0ZW0gLnJlc3RhdXJhbnQtaXRlbV9fY29udGVudCB7XFxyXFxuICAgIHBhZGRpbmc6IDE2cHg7XFxyXFxufVxcclxcblxcclxcbi5yZXN0YXVyYW50LWl0ZW0gLnJlc3RhdXJhbnQtaXRlbV9fY29udGVudCBoMyB7XFxyXFxuICAgIG1hcmdpbjogMCAwIDEwcHggMDtcXHJcXG59XFxyXFxuXFxyXFxuLnJlc3RhdXJhbnQtaXRlbSAucmVzdGF1cmFudC1pdGVtX19jb250ZW50IGgzIGEge1xcclxcbiAgICBjb2xvcjogI2RiMDAwMDtcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4ucmVzdGF1cmFudC1pdGVtIC5yZXN0YXVyYW50LWl0ZW1fX2NvbnRlbnQgcCB7XFxyXFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxyXFxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcclxcbiAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXHJcXG4gICAgLXdlYmtpdC1saW5lLWNsYW1wOiA0O1xcclxcbiAgICAvKiBudW1iZXIgb2YgbGluZXMgdG8gc2hvdyAqL1xcclxcbiAgICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xcclxcbn1cXHJcXG5cXHJcXG4ucmVzdGF1cmFudCB7XFxyXFxuICAgIG1hcmdpbjogMCBhdXRvO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgbWF4LXdpZHRoOiA4MDBweDtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XFxyXFxuICAgIGdhcDogMThweCAxNnB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucmVzdGF1cmFudCAucmVzdGF1cmFudF9fcG9zdGVyIHtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi5yZXN0YXVyYW50IC5yZXN0YXVyYW50X19pbmZvIGg0IHtcXHJcXG4gICAgbWFyZ2luOiA4cHggMDtcXHJcXG59XFxyXFxuLnJlc3RhdXJhbnQgLnJlc3RhdXJhbnRfX2Zvb2Qge1xcclxcbiAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICBmbGV4LWZsb3c6IGNvbHVtbiB3cmFwO1xcclxcbiAgIGFsaWduLWNvbnRlbnQ6IHN0cmV0Y2g7XFxyXFxufVxcclxcbi5yZXN0YXVyYW50IC5yZXN0YXVyYW50X19kcmluayB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxyXFxufVxcclxcbi5yb3cge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4LXdyYXA6IHdyYXA7XFxyXFxufVxcclxcbi5jb2x1bW4ge1xcclxcbiAgICBmbGV4OiA1MCU7XFxyXFxuICAgIHBhZGRpbmc6IDIwcHg7XFxyXFxufVxcclxcbmJ1dHRvbi5iYWNre1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4OjEwJTtcXHJcXG4gICAgYWxpZ24tY29udGVudDogZmxleC1zdGFydDtcXHJcXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xcclxcbiAgICBwYWRkaW5nOiAxOHB4O1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMyYzNlNTA7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG59XFxyXFxuYnV0dG9uLm9wZW57XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXg6MTAlO1xcclxcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIHdpZHRoOiBmaXQtY29udGVudDtcXHJcXG4gICAgcGFkZGluZzogMTBweDtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmMzZTUwO1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxufVxcclxcbi5saWtlIHtcXHJcXG4gICAgZm9udC1zaXplOiAxOHB4O1xcclxcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICAgIGJvdHRvbTogMTZweDtcXHJcXG4gICAgcmlnaHQ6IDE2cHg7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkYjAwMDA7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgYm9yZGVyOiAwO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxyXFxuICAgIHdpZHRoOiA1NXB4O1xcclxcbiAgICBoZWlnaHQ6IDU1cHg7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxufVxcclxcbi5yZXN0YXVyYW50LWRldGFpbHtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxufVxcclxcbi5yZXN0YXVyYW50LWRldGFpbCBpbWcge1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuLnJlc3RhdXJhbnQtZGV0YWlsIC50aXRsZXtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICB0b3A6IDIwcHg7XFxyXFxuICAgIGxlZnQ6IDI1JTtcXHJcXG4gICAgcmlnaHQ6IDI1JTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcclxcbiAgICBvcGFjaXR5OiAwLjc7XFxyXFxuICAgIHdpZHRoOiBhdXRvO1xcclxcbiAgICBoZWlnaHQ6IGF1dG87XFxyXFxuICAgIGNvbG9yOiAjZjNmM2YzO1xcclxcbiAgICBib3gtc2hhZG93OiAjMzQ5OGRiO1xcclxcbiAgICBwYWRkaW5nOiAxMHB4IDA7XFxyXFxufVxcclxcbi5yZXN0YXVyYW50LWRldGFpbCAudGl0bGUgaDF7XFxyXFxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiBJbXBhY3QsIEhhZXR0ZW5zY2h3ZWlsZXIsICdBcmlhbCBOYXJyb3cgQm9sZCcsIHNhbnMtc2VyaWY7XFxyXFxufVxcclxcbi5yZXN0YXVyYW50LWRldGFpbCAucmF0aW5ne1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHBhZGRpbmc6IDhweDtcXHJcXG4gICAgdG9wOiAyMHB4O1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbn1cXHJcXG4ucmVzdGF1cmFudC1kZXRhaWwgLnRhZ3tcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBwYWRkaW5nOiA4cHg7XFxyXFxuICAgIHRvcDogMjBweDtcXHJcXG4gICAgcmlnaHQ6IDA7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxufVxcclxcbi5yZXN0YXVyYW50LWRldGFpbCAuZm9vZGRyaW5re1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHBhZGRpbmc6IDhweDtcXHJcXG4gICAgYm90dG9tOiAyMHB4O1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICByaWdodDogMDtcXHJcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbiAgICBvcGFjaXR5OiAwLjg7XFxyXFxufVxcclxcbi5yZXN0YXVyYW50LWRldGFpbCAuZHJpbmt7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgcGFkZGluZzogOHB4O1xcclxcbiAgICBib3R0b206IDIwcHg7XFxyXFxuICAgIHJpZ2h0OiAwO1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGdyZWVueWVsbG93O1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxufVxcclxcbi8qXFxyXFxuICogZm9vdGVyXFxyXFxuICovXFxyXFxuXFxyXFxuXFxyXFxuZm9vdGVyIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzJjM2U1MDtcXHJcXG4gICAgcGFkZGluZzogMmVtO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG5mb290ZXIgdWwge1xcclxcbiAgICBtYXJnaW46IDAgYXV0bztcXHJcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbn1cXHJcXG5cXHJcXG5mb290ZXIgbGkge1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIG1hcmdpbjogMCAxZW07XFxyXFxuICAgIGZvbnQtc2l6ZTogMTRweDtcXHJcXG59XFxyXFxuXFxyXFxuZm9vdGVyIHAuZm9vdGVyIHtcXHJcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbiAgICBwYWRkaW5nOiAxLjNlbTtcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbiAgICBjb2xvcjogI2ZmZlxcclxcbn1cXHJcXG5cXHJcXG4gIC5mZWVkYmFjay1pbnB1dCB7XFxyXFxuICAgIGNvbG9yOnJnYigwLCAwLCAwKTtcXHJcXG4gICAgZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OjUwMDtcXHJcXG4gICAgZm9udC1zaXplOiAxOHB4O1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XFxyXFxuICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXHJcXG4gICAgYm9yZGVyOjJweCBzb2xpZCAjQ0M2NjY2O1xcclxcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcztcXHJcXG4gICAgcGFkZGluZzogMTNweDtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcXHJcXG4gICAgd2lkdGg6MTAwJTtcXHJcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG4gICAgb3V0bGluZTowO1xcclxcbiAgfVxcclxcbiAgXFxyXFxuICAuZmVlZGJhY2staW5wdXQ6Zm9jdXMgeyBib3JkZXI6MnB4IHNvbGlkICNDQzQ5NDk7IH1cXHJcXG4gIFxcclxcbiAgdGV4dGFyZWEge1xcclxcbiAgICBoZWlnaHQ6IDE1MHB4O1xcclxcbiAgICBsaW5lLWhlaWdodDogMTUwJTtcXHJcXG4gICAgcmVzaXplOnZlcnRpY2FsO1xcclxcbiAgfVxcclxcbiAgXFxyXFxuICBbdHlwZT1cXFwiYnV0dG9uXFxcIl0ge1xcclxcbiAgICBmb250LWZhbWlseTogJ01vbnRzZXJyYXQnLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgYmFja2dyb3VuZDojQ0M2NjY2O1xcclxcbiAgICBib3JkZXItcmFkaXVzOjVweDtcXHJcXG4gICAgYm9yZGVyOjA7XFxyXFxuICAgIGN1cnNvcjpwb2ludGVyO1xcclxcbiAgICBjb2xvcjpibGFjaztcXHJcXG4gICAgZm9udC1zaXplOjI0cHg7XFxyXFxuICAgIHBhZGRpbmctdG9wOjEwcHg7XFxyXFxuICAgIHBhZGRpbmctYm90dG9tOjEwcHg7XFxyXFxuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzO1xcclxcbiAgICBtYXJnaW4tdG9wOi00cHg7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OjcwMDtcXHJcXG4gIH1cXHJcXG4gIFt0eXBlPVxcXCJidXR0b25cXFwiXTpob3ZlciB7IGJhY2tncm91bmQ6I0NDNDk0OTsgfVwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vcmVzcG9uc2l2ZS5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucG9zdHMge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXJvdy1nYXA6IDE2cHg7XFxyXFxufVxcclxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XFxyXFxuICAgIC5yb3cge1xcclxcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gICAgfVxcclxcbn1cXHJcXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2NTBweCkge1xcclxcbiAgICAucG9zdHMge1xcclxcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcXHJcXG4gICAgICAgIGdyaWQtY29sdW1uLWdhcDogMTBweDtcXHJcXG4gICAgICAgIGdyaWQtcm93LWdhcDogMTZweDtcXHJcXG4gICAgfVxcclxcbiAgICAuYXBwLWJhciB7XFxyXFxuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBhdXRvO1xcclxcbiAgICAgICAgcGFkZGluZzogOHB4IDMycHg7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLmFwcC1iYXIgLmFwcC1iYXJfX2JyYW5kIGgxIHtcXHJcXG4gICAgICAgIGZvbnQtc2l6ZTogMS41ZW07XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLmFwcC1iYXIgLmFwcC1iYXJfX21lbnUge1xcclxcbiAgICAgICAgZGlzcGxheTogbm9uZTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuYXBwLWJhciAuYXBwLWJhcl9fbmF2aWdhdGlvbiB7XFxyXFxuICAgICAgICBwb3NpdGlvbjogc3RhdGljO1xcclxcbiAgICAgICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLmFwcC1iYXIgLmFwcC1iYXJfX25hdmlnYXRpb24gdWwgbGkge1xcclxcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5hcHAtYmFyIC5hcHAtYmFyX19uYXZpZ2F0aW9uIHVsIGxpIGEge1xcclxcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbiAgICAgICAgd2lkdGg6IDEyMHB4O1xcclxcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgICAgICAgbWFyZ2luOiAwO1xcclxcbiAgICB9XFxyXFxufVxcclxcblxcclxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDkwMHB4KSB7XFxyXFxuICAgIC5oZWFkbGluZSB7XFxyXFxuICAgICAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5wb3N0cyB7XFxyXFxuICAgICAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyIDFmcjtcXHJcXG4gICAgfVxcclxcbiAgICAuaGlkZS1sYXJnZXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fVxcclxcbn1cXHJcXG5cXHJcXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMjAwcHgpIHtcXHJcXG4gICAgbWFpbiB7XFxyXFxuICAgICAgICBtYXgtd2lkdGg6IDM0NDBweDtcXHJcXG5cXHJcXG4gICAgfVxcclxcbiAgICAgLnBvc3RzIHtcXHJcXG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnIgMWZyIDFmcjtcXHJcXG4gICAgfVxcclxcbiAgICBcXHJcXG59XCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJiZWJiYTg5YTIxZTAxMDA5NzllYmNlYWE3NTBjODZjZC53ZWJwXCI7IiwiaW1wb3J0IGltYWdlIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvaGVyb3MvMi53ZWJwJ1xyXG5cclxuY2xhc3MgSGVyb0VsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XHJcbiAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgc3VwZXIoKVxyXG4gICAgdGhpcy5zaGFkb3dET00gPSB0aGlzLmF0dGFjaFNoYWRvdyh7XHJcbiAgICAgIG1vZGU6ICdvcGVuJ1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNvbm5lY3RlZENhbGxiYWNrICgpIHtcclxuICAgIHRoaXMucmVuZGVyKClcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICB0aGlzLnNoYWRvd0RPTS5pbm5lckhUTUwgPSBgXHJcbjxzdHlsZT5cclxuQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9UGFjaWZpY28mZGlzcGxheT1zd2FwJyk7XHJcbi5oZXJvIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgcGFkZGluZy10b3A6ODBweDtcclxuICAgIG1pbi1oZWlnaHQ6IDM2MHB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiR7aW1hZ2V9XCIpO1xyXG4gICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbiAgIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xyXG59XHJcbi5oZXJvLWlubmVyIHtcclxuYmFja2dyb3VuZC1jb2xvcjojZmZmO1xyXG5kaXNwbGF5OmJsb2NrO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBtYXgtd2lkdGg6IDgwMHB4O1xyXG4gICAgb3BhY2l0eTowLjc1O1xyXG59XHJcblxyXG4uaGVyby10aXRsZSB7XHJcbiAgICBjb2xvcjogIzY1YTJlNDtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICBmb250LXNpemU6IDM2cHg7XHJcbiAgICBmb250LWZhbWlseTogJ1BhY2lmaWNvJywgY3Vyc2l2ZTtcclxufVxyXG5cclxuLmhlcm8tdGFnbGluZSB7XHJcbiAgICBjb2xvcjogIzY1YTJlNDtcclxuICAgbWFyZ2luLXRvcDogMTZweDtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIGZvbnQtd2VpZ2h0OiAzMDA7XHJcbiAgICBmb250LWZhbWlseTogJ1BhY2lmaWNvJywgY3Vyc2l2ZTtcclxufVxyXG4gICAgICAgPC9zdHlsZT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVyb1wiPlxyXG4gICAgICAgIFxyXG4gICAgPGRpdiBjbGFzcz1cImhlcm8taW5uZXJcIj5cclxuICAgICAgICA8aDEgY2xhc3M9XCJoZXJvLXRpdGxlXCI+S2FuZyBSZXN0YXVyYW50PC9oMT5cclxuICAgICAgICA8cCBjbGFzcz1cImhlcm8tdGFnbGluZVwiPlRoZSBCZXN0IENpcmVib24gUmVzdGF1cmFudDwvcD5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5gXHJcbiAgfVxyXG59XHJcbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZWxlbWVudC1oZXJvJywgSGVyb0VsZW1lbnQpXHJcbiIsImNvbnN0IERyYXdlckluaXRpYXRvciA9IHtcclxuICBpbml0ICh7IGJ1dHRvbiwgZHJhd2VyLCBjb250ZW50IH0pIHtcclxuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICB0aGlzLl90b2dnbGVEcmF3ZXIoZXZlbnQsIGRyYXdlcilcclxuICAgIH0pXHJcblxyXG4gICAgY29udGVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9jbG9zZURyYXdlcihldmVudCwgZHJhd2VyKVxyXG4gICAgfSlcclxuICB9LFxyXG5cclxuICBfdG9nZ2xlRHJhd2VyIChldmVudCwgZHJhd2VyKSB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgZHJhd2VyLmNsYXNzTGlzdC50b2dnbGUoJ29wZW4nKVxyXG4gIH0sXHJcblxyXG4gIF9jbG9zZURyYXdlciAoZXZlbnQsIGRyYXdlcikge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJylcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERyYXdlckluaXRpYXRvclxyXG4iLCJjb25zdCBVcmxQYXJzZXIgPSB7XHJcbiAgcGFyc2VBY3RpdmVVcmxXaXRoQ29tYmluZXIgKCkge1xyXG4gICAgY29uc3QgdXJsID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSkudG9Mb3dlckNhc2UoKVxyXG4gICAgY29uc3Qgc3BsaXRlZFVybCA9IHRoaXMuX3VybFNwbGl0dGVyKHVybClcclxuICAgIHJldHVybiB0aGlzLl91cmxDb21iaW5lcihzcGxpdGVkVXJsKVxyXG4gIH0sXHJcblxyXG4gIHBhcnNlQWN0aXZlVXJsV2l0aG91dENvbWJpbmVyICgpIHtcclxuICAgIGNvbnN0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLnRvTG93ZXJDYXNlKClcclxuICAgIHJldHVybiB0aGlzLl91cmxTcGxpdHRlcih1cmwpXHJcbiAgfSxcclxuXHJcbiAgX3VybFNwbGl0dGVyICh1cmwpIHtcclxuICAgIGNvbnN0IHVybHNTcGxpdHMgPSB1cmwuc3BsaXQoJy8nKVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzb3VyY2U6IHVybHNTcGxpdHNbMV0gfHwgbnVsbCxcclxuICAgICAgaWQ6IHVybHNTcGxpdHNbMl0gfHwgbnVsbCxcclxuICAgICAgdmVyYjogdXJsc1NwbGl0c1szXSB8fCBudWxsXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgX3VybENvbWJpbmVyIChzcGxpdGVkVXJsKSB7XHJcbiAgICByZXR1cm4gKHNwbGl0ZWRVcmwucmVzb3VyY2UgPyBgLyR7c3BsaXRlZFVybC5yZXNvdXJjZX1gIDogJy8nKSArXHJcbiAgICAgIChzcGxpdGVkVXJsLmlkID8gJy86aWQnIDogJycpICtcclxuICAgICAgKHNwbGl0ZWRVcmwudmVyYiA/IGAvJHtzcGxpdGVkVXJsLnZlcmJ9YCA6ICcnKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXJsUGFyc2VyXHJcbiIsImNvbnN0IENPTkZJRyA9IHtcclxuICBLRVk6ICcxMjM0NScsXHJcbiAgQkFTRV9VUkw6ICdodHRwczovL2RpY29kaW5nLXJlc3RhdXJhbnQtYXBpLmVsLnIuYXBwc3BvdC5jb20vJyxcclxuICBCQVNFX0lNQUdFX1VSTDogJ2h0dHBzOi8vZGljb2RpbmctcmVzdGF1cmFudC1hcGkuZWwuci5hcHBzcG90LmNvbS9pbWFnZXMvbWVkaXVtLycsXHJcbiAgQkFTRV9JTUFHRV9MQVJHRV9VUkw6ICdodHRwczovL2RpY29kaW5nLXJlc3RhdXJhbnQtYXBpLmVsLnIuYXBwc3BvdC5jb20vaW1hZ2VzL2xhcmdlLycsXHJcbiAgREFUQUJBU0VfTkFNRTogJ2thbmctcmVzdGF1cmFudC1kYXRhYmFzZScsXHJcbiAgT0JKRUNUX1NUT1JFX05BTUU6ICdyZXN0YXVyYW50J1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDT05GSUdcclxuIiwiaW1wb3J0IENPTkZJRyBmcm9tICcuL2NvbmZpZydcclxuXHJcbmNvbnN0IEFQSV9FTkRQT0lOVCA9IHtcclxuICBIT01FOiBgJHtDT05GSUcuQkFTRV9VUkx9bGlzdGAsXHJcbiAgREVUQUlMOiAoaWQpID0+IGAke0NPTkZJRy5CQVNFX1VSTH1kZXRhaWwvJHtpZH1gLFxyXG4gIFJFVklFVzogYCR7Q09ORklHLkJBU0VfVVJMfXJldmlld2BcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQVBJX0VORFBPSU5UXHJcbiIsImltcG9ydCBBUElfRU5EUE9JTlQgZnJvbSAnLi4vZ2xvYmFscy9hcGktZW5kcG9pbnQnXHJcbmltcG9ydCBDT05GSUcgZnJvbSAnLi4vZ2xvYmFscy9jb25maWcnXHJcbmNsYXNzIFJlc3RhdXJhbnRTb3VyY2Uge1xyXG4gIHN0YXRpYyBhc3luYyBob21lICgpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goQVBJX0VORFBPSU5ULkhPTUUpXHJcbiAgICBjb25zdCByZXNwb25zZUpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgIHJldHVybiByZXNwb25zZUpzb24ucmVzdGF1cmFudHNcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyBkZXRhaWxSZXN0YXVyYW50IChpZCkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChBUElfRU5EUE9JTlQuREVUQUlMKGlkKSlcclxuICAgIGNvbnN0IHJlc3BvbnNlSnNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlSnNvbi5yZXN0YXVyYW50XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYXN5bmMgcmV2aWV3IChkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goQVBJX0VORFBPSU5ULlJFVklFVywge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdYLUF1dGgtVG9rZW4nOiBDT05GSUcuS0VZLFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgIH0pXHJcbiAgICBjb25zdCByZXNwb25zZUpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlSnNvbilcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICBpZiAocmVzcG9uc2VKc29uLm1lc3NhZ2UgPT09ICdzdWNjZXNzJykge1xyXG4gICAgICB3aW5kb3cuYWxlcnQoJ0Jlcmhhc2lsIGRpdGFtYmFoa2FuJylcclxuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3aW5kb3cuYWxlcnQoJ0dhZ2FsIERpdGFtYmFoa2FuJylcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IFJlc3RhdXJhbnRTb3VyY2VcclxuIiwiaW1wb3J0IENPTkZJRyBmcm9tICcuLi8uLi9nbG9iYWxzL2NvbmZpZydcclxuY29uc3QgY3JlYXRlUmVzdGF1cmFudERldGFpbFRlbXBsYXRlID0gKHJlc3RhdXJhbnQsIGZvb2RtZW51LCBkcmlua21lbnUsIGNvbnN1bWVycmV2LCBjYXRlZ29yeXJlcykgPT5cclxuYFxyXG48aDE+JHtyZXN0YXVyYW50Lm5hbWV9ICggJHtyZXN0YXVyYW50LmNpdHl9ICk8L2gxPlxyXG48aDY+JHtyZXN0YXVyYW50LmFkZHJlc3N9PC9oNj5cclxuPGRpdiBjbGFzcz0ncmVzdGF1cmFudC1kZXRhaWwnPlxyXG4gIDxpbWcgc3JjPVwiJHtDT05GSUcuQkFTRV9JTUFHRV9VUkwgKyByZXN0YXVyYW50LnBpY3R1cmVJZH1cIiBhbHQ9XCIke3Jlc3RhdXJhbnQubmFtZX1cIiBzdHlsZT1cIndpZHRoPTEwMCVcIj5cclxuICA8ZGl2IGNsYXNzPSd0YWcnPlxyXG4gICAgPGkgY2xhc3M9J2ZhIGZhLXRhZyc+PC9pPiAke2NhdGVnb3J5cmVzfSZtaWRkb3Q7IDxpIGNsYXNzPSdmYSBmYS10YWcnPjwvaT5cclxuICA8L2Rpdj5cclxuICA8cCBjbGFzcz0ncmF0aW5nJz48aSBjbGFzcz0nZmEgZmEtc3Rhcicgc3R5bGU9XCJjb2xvcjp5ZWxsb3dcIj48L2k+JHtyZXN0YXVyYW50LnJhdGluZ308L3A+XHJcbjwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJyZXN0YXVyYW50X19vdmVydmlld1wiPlxyXG4gICAgPGgzPjxpIGNsYXNzPSdmYSBmYS1jdXRsZXJ5Jz48L2k+IEZvb2RzIDo8L2gzPlxyXG4gICAgPHA+XHJcbiAgICAke2Zvb2RtZW51fSAmbWlkZG90OzwvcD5cclxuICAgIDxoMz48aSBjbGFzcz0nZmEgZmEtZ2xhc3MnPjwvaT4gRHJpbmtzIDo8L2gzPlxyXG4gICAgPHA+XHJcbiAgICAke2RyaW5rbWVudX0gJm1pZGRvdDs8L3A+XHJcbiAgICA8aDM+RGVza3JpcHNpPC9oMz5cclxuICAgIDxwPiR7cmVzdGF1cmFudC5kZXNjcmlwdGlvbn08L3A+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiBjbGFzcz1cInJlc3RhdXJhbnRfX2luZm9cIj5cclxuICA8aDM+Q3VzdG9tZXIgUmV2aWV3PC9oMz5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPSdyb3cnPlxyXG4gICAgPGRpdiBjbGFzcz0nY29sdW1uJz5cclxuICAgICAgICAke2NvbnN1bWVycmV2fVxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPSdjb2x1bW4nPlxyXG4gICAgXHJcbiAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgdmFsdWU9JyR7cmVzdGF1cmFudC5pZH0nPiAgICAgIFxyXG4gICAgICA8aW5wdXQgbmFtZT1cIm5hbWVcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZmVlZGJhY2staW5wdXRcIiBpZD0nbmFtZScgcGxhY2Vob2xkZXI9XCJOYW1lXCIgLz4gICBcclxuICAgICAgPHRleHRhcmVhIG5hbWU9XCJ0ZXh0XCIgY2xhc3M9XCJmZWVkYmFjay1pbnB1dFwiIGlkPSdyZXZpZXcnIHBsYWNlaG9sZGVyPVwiQ29tbWVudFwiPjwvdGV4dGFyZWE+XHJcbiAgICAgIDxidXR0b24gaWQ9J3N1Ym1pdCcgdHlwZT0nYnV0dG9uJz5TdWJtaXQ8L2J1dHRvbj5cclxuICAgIFxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiBjbGFzcz0ncm93Jz5cclxuICAgIDxkaXYgY2xhc3M9J2NvbHVtbic+XHJcbiAgICA8YnV0dG9uIGFyaWEtbGFiZWw9J2JhY2sgdG8gaG9tZScgb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5ocmVmPScjLydcIiBjbGFzcz0nYmFjayc+QmFjayB0byBIb21lPC9idXR0b24+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbmBcclxuY29uc3QgY3JlYXRlRm9vZHNNZW51ID0gKGZvb2QpID0+IGBcclxuJHtmb29kLm5hbWV9PGJyPlxyXG5gXHJcbmNvbnN0IGNyZWF0ZVJlc3RhdXJhbnRJdGVtVGVtcGxhdGUgPSAocmVzdGF1cmFudCkgPT4gYFxyXG48YXJ0aWNsZSBjbGFzcz1cInJlc3RhdXJhbnQtaXRlbVwiPlxyXG4gICAgPGRpdiBjbGFzcz1cInJlc3RhdXJhbnQtaXRlbV9faGVhZGVyXCI+XHJcbiAgICAgICAgPGltZyBjbGFzcz1cInJlc3RhdXJhbnQtaXRlbV9faGVhZGVyX19wb3N0ZXJcIiBhbHQ9XCIke3Jlc3RhdXJhbnQubmFtZX1cIlxyXG4gICAgICAgICAgICBzcmM9XCIke3Jlc3RhdXJhbnQucGljdHVyZUlkID8gQ09ORklHLkJBU0VfSU1BR0VfVVJMICsgcmVzdGF1cmFudC5waWN0dXJlSWQgOiAnaHR0cHM6Ly9waWNzdW0ucGhvdG9zL2lkLzY2Ni84MDAvNDUwP2dyYXlzY2FsZSd9XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJlc3RhdXJhbnQtaXRlbV9faGVhZGVyX19yYXRpbmdcIj5cclxuICAgICAgICAgICAgPHA+PGkgY2xhc3M9J2ZhIGZhLXN0YXInIHN0eWxlPSdjb2xvcjp5ZWxsb3cnPjwvaT48c3BhbiBjbGFzcz1cInJlc3RhdXJhbnQtaXRlbV9faGVhZGVyX19yYXRpbmdfX3Njb3JlXCI+JHtyZXN0YXVyYW50LnJhdGluZ308L3NwYW4+PC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZXN0YXVyYW50LWl0ZW1fX2hlYWRlcl9fY2l0eVwiPlxyXG4gICAgICAgICAgICA8cD48c3BhbiBjbGFzcz1cInJlc3RhdXJhbnQtaXRlbV9faGVhZGVyX19yYXRpbmdfX3Njb3JlXCI+JHtyZXN0YXVyYW50LmNpdHl9PC9zcGFuPiAgICAgICA8aSBjbGFzcz0nZmEgZmEtbWFwLW1hcmtlcic+PC9pPjwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInJlc3RhdXJhbnQtaXRlbV9fY29udGVudFwiPlxyXG4gICAgICAgIDxoMz48YSBocmVmPVwiJHtgLyMvZGV0YWlsLyR7cmVzdGF1cmFudC5pZH1gfVwiPiR7cmVzdGF1cmFudC5uYW1lfTwvYT48L2gzPlxyXG4gICAgICAgIDxwPiR7cmVzdGF1cmFudC5kZXNjcmlwdGlvbn08L3A+XHJcbiAgICA8L2Rpdj5cclxuICA8L2FydGljbGU+XHJcbmBcclxuY29uc3QgY3JlYXRlTGlrZUJ1dHRvblRlbXBsYXRlID0gKCkgPT4gYFxyXG4gIDxidXR0b24gYXJpYS1sYWJlbD1cImxpa2UgdGhpcyByZXN0YXVyYW50XCIgaWQ9XCJsaWtlQnV0dG9uXCIgY2xhc3M9XCJsaWtlXCI+XHJcbiAgICAgPGkgY2xhc3M9XCJmYSBmYS1oZWFydC1vXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxyXG4gIDwvYnV0dG9uPlxyXG5gXHJcblxyXG5jb25zdCBjcmVhdGVMaWtlZEJ1dHRvblRlbXBsYXRlID0gKCkgPT4gYFxyXG4gIDxidXR0b24gYXJpYS1sYWJlbD1cInVubGlrZSB0aGlzIHJlc3RhdXJhbnRcIiBpZD1cImxpa2VCdXR0b25cIiBjbGFzcz1cImxpa2VcIj5cclxuICAgIDxpIGNsYXNzPVwiZmEgZmEtaGVhcnRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgPC9idXR0b24+XHJcbmBcclxuZXhwb3J0IHsgY3JlYXRlUmVzdGF1cmFudERldGFpbFRlbXBsYXRlLCBjcmVhdGVSZXN0YXVyYW50SXRlbVRlbXBsYXRlLCBjcmVhdGVGb29kc01lbnUsIGNyZWF0ZUxpa2VCdXR0b25UZW1wbGF0ZSwgY3JlYXRlTGlrZWRCdXR0b25UZW1wbGF0ZSB9XHJcbiIsImltcG9ydCBSZXN0YXVyYW50U291cmNlIGZyb20gJy4uLy4uL2RhdGEvcmVzdGF1cmFudC1zb3VyY2UnXHJcbmltcG9ydCB7IGNyZWF0ZVJlc3RhdXJhbnRJdGVtVGVtcGxhdGUgfSBmcm9tICcuLi90ZW1wbGF0ZXMvdGVtcGxhdGUtY3JlYXRvcidcclxuY29uc3QgSG9tZSA9IHtcclxuICBhc3luYyByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIGBcclxuICAgIDxkaXYgY2xhc3M9XCJsYXRlc3RcIj5cclxuICAgICAgICA8aDEgY2xhc3M9XCJsYXRlc3RfX2xhYmVsXCI+RXhwbG9yZSBSZXN0YXVyYW50PC9oMT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicG9zdHNcIiBpZD1cInJlc3RhdXJhbnRcIj48L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgYFxyXG4gIH0sXHJcbiAgYXN5bmMgYWZ0ZXJSZW5kZXIgKCkge1xyXG4gICAgY29uc3QgcmVzdGF1cmFudHMgPSBhd2FpdCBSZXN0YXVyYW50U291cmNlLmhvbWUoKVxyXG4gICAgY29uc29sZS5sb2cocmVzdGF1cmFudHMpXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGVybycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcbiAgICBjb25zdCByZXN0YXVyYW50Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc3RhdXJhbnQnKVxyXG4gICAgcmVzdGF1cmFudHMuZm9yRWFjaCgocmVzdGF1cmFudCkgPT4ge1xyXG4gICAgICByZXN0YXVyYW50Q29udGFpbmVyLmlubmVySFRNTCArPSBjcmVhdGVSZXN0YXVyYW50SXRlbVRlbXBsYXRlKHJlc3RhdXJhbnQpXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBIb21lXHJcbiIsImNvbnN0IGluc3RhbmNlT2ZBbnkgPSAob2JqZWN0LCBjb25zdHJ1Y3RvcnMpID0+IGNvbnN0cnVjdG9ycy5zb21lKChjKSA9PiBvYmplY3QgaW5zdGFuY2VvZiBjKTtcblxubGV0IGlkYlByb3h5YWJsZVR5cGVzO1xubGV0IGN1cnNvckFkdmFuY2VNZXRob2RzO1xuLy8gVGhpcyBpcyBhIGZ1bmN0aW9uIHRvIHByZXZlbnQgaXQgdGhyb3dpbmcgdXAgaW4gbm9kZSBlbnZpcm9ubWVudHMuXG5mdW5jdGlvbiBnZXRJZGJQcm94eWFibGVUeXBlcygpIHtcbiAgICByZXR1cm4gKGlkYlByb3h5YWJsZVR5cGVzIHx8XG4gICAgICAgIChpZGJQcm94eWFibGVUeXBlcyA9IFtcbiAgICAgICAgICAgIElEQkRhdGFiYXNlLFxuICAgICAgICAgICAgSURCT2JqZWN0U3RvcmUsXG4gICAgICAgICAgICBJREJJbmRleCxcbiAgICAgICAgICAgIElEQkN1cnNvcixcbiAgICAgICAgICAgIElEQlRyYW5zYWN0aW9uLFxuICAgICAgICBdKSk7XG59XG4vLyBUaGlzIGlzIGEgZnVuY3Rpb24gdG8gcHJldmVudCBpdCB0aHJvd2luZyB1cCBpbiBub2RlIGVudmlyb25tZW50cy5cbmZ1bmN0aW9uIGdldEN1cnNvckFkdmFuY2VNZXRob2RzKCkge1xuICAgIHJldHVybiAoY3Vyc29yQWR2YW5jZU1ldGhvZHMgfHxcbiAgICAgICAgKGN1cnNvckFkdmFuY2VNZXRob2RzID0gW1xuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5hZHZhbmNlLFxuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5jb250aW51ZSxcbiAgICAgICAgICAgIElEQkN1cnNvci5wcm90b3R5cGUuY29udGludWVQcmltYXJ5S2V5LFxuICAgICAgICBdKSk7XG59XG5jb25zdCBjdXJzb3JSZXF1ZXN0TWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zYWN0aW9uRG9uZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2FjdGlvblN0b3JlTmFtZXNNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNmb3JtQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHByb21pc2lmeVJlcXVlc3QocmVxdWVzdCkge1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2Vzcyk7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh3cmFwKHJlcXVlc3QucmVzdWx0KSk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignc3VjY2VzcycsIHN1Y2Nlc3MpO1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgIH0pO1xuICAgIHByb21pc2VcbiAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgIC8vIFNpbmNlIGN1cnNvcmluZyByZXVzZXMgdGhlIElEQlJlcXVlc3QgKCpzaWdoKiksIHdlIGNhY2hlIGl0IGZvciBsYXRlciByZXRyaWV2YWxcbiAgICAgICAgLy8gKHNlZSB3cmFwRnVuY3Rpb24pLlxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJDdXJzb3IpIHtcbiAgICAgICAgICAgIGN1cnNvclJlcXVlc3RNYXAuc2V0KHZhbHVlLCByZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYXRjaGluZyB0byBhdm9pZCBcIlVuY2F1Z2h0IFByb21pc2UgZXhjZXB0aW9uc1wiXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgLy8gVGhpcyBtYXBwaW5nIGV4aXN0cyBpbiByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgYnV0IGRvZXNuJ3QgZG9lc24ndCBleGlzdCBpbiB0cmFuc2Zvcm1DYWNoZS4gVGhpc1xuICAgIC8vIGlzIGJlY2F1c2Ugd2UgY3JlYXRlIG1hbnkgcHJvbWlzZXMgZnJvbSBhIHNpbmdsZSBJREJSZXF1ZXN0LlxuICAgIHJldmVyc2VUcmFuc2Zvcm1DYWNoZS5zZXQocHJvbWlzZSwgcmVxdWVzdCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24odHgpIHtcbiAgICAvLyBFYXJseSBiYWlsIGlmIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCBhIGRvbmUgcHJvbWlzZSBmb3IgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICBpZiAodHJhbnNhY3Rpb25Eb25lTWFwLmhhcyh0eCkpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBkb25lID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCB1bmxpc3RlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgY29tcGxldGUpO1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdCh0eC5lcnJvciB8fCBuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydEVycm9yJywgJ0Fib3J0RXJyb3InKSk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdjb21wbGV0ZScsIGNvbXBsZXRlKTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXJyb3IpO1xuICAgIH0pO1xuICAgIC8vIENhY2hlIGl0IGZvciBsYXRlciByZXRyaWV2YWwuXG4gICAgdHJhbnNhY3Rpb25Eb25lTWFwLnNldCh0eCwgZG9uZSk7XG59XG5sZXQgaWRiUHJveHlUcmFwcyA9IHtcbiAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIHRyYW5zYWN0aW9uLmRvbmUuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2RvbmUnKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkRvbmVNYXAuZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICAvLyBQb2x5ZmlsbCBmb3Igb2JqZWN0U3RvcmVOYW1lcyBiZWNhdXNlIG9mIEVkZ2UuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ29iamVjdFN0b3JlTmFtZXMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5vYmplY3RTdG9yZU5hbWVzIHx8IHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1ha2UgdHguc3RvcmUgcmV0dXJuIHRoZSBvbmx5IHN0b3JlIGluIHRoZSB0cmFuc2FjdGlvbiwgb3IgdW5kZWZpbmVkIGlmIHRoZXJlIGFyZSBtYW55LlxuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdzdG9yZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjZWl2ZXIub2JqZWN0U3RvcmVOYW1lc1sxXVxuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA6IHJlY2VpdmVyLm9iamVjdFN0b3JlKHJlY2VpdmVyLm9iamVjdFN0b3JlTmFtZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEVsc2UgdHJhbnNmb3JtIHdoYXRldmVyIHdlIGdldCBiYWNrLlxuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXRbcHJvcF0pO1xuICAgIH0sXG4gICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgaGFzKHRhcmdldCwgcHJvcCkge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24gJiZcbiAgICAgICAgICAgIChwcm9wID09PSAnZG9uZScgfHwgcHJvcCA9PT0gJ3N0b3JlJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wIGluIHRhcmdldDtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIHJlcGxhY2VUcmFwcyhjYWxsYmFjaykge1xuICAgIGlkYlByb3h5VHJhcHMgPSBjYWxsYmFjayhpZGJQcm94eVRyYXBzKTtcbn1cbmZ1bmN0aW9uIHdyYXBGdW5jdGlvbihmdW5jKSB7XG4gICAgLy8gRHVlIHRvIGV4cGVjdGVkIG9iamVjdCBlcXVhbGl0eSAod2hpY2ggaXMgZW5mb3JjZWQgYnkgdGhlIGNhY2hpbmcgaW4gYHdyYXBgKSwgd2VcbiAgICAvLyBvbmx5IGNyZWF0ZSBvbmUgbmV3IGZ1bmMgcGVyIGZ1bmMuXG4gICAgLy8gRWRnZSBkb2Vzbid0IHN1cHBvcnQgb2JqZWN0U3RvcmVOYW1lcyAoYm9vbyksIHNvIHdlIHBvbHlmaWxsIGl0IGhlcmUuXG4gICAgaWYgKGZ1bmMgPT09IElEQkRhdGFiYXNlLnByb3RvdHlwZS50cmFuc2FjdGlvbiAmJlxuICAgICAgICAhKCdvYmplY3RTdG9yZU5hbWVzJyBpbiBJREJUcmFuc2FjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RvcmVOYW1lcywgLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgdHggPSBmdW5jLmNhbGwodW53cmFwKHRoaXMpLCBzdG9yZU5hbWVzLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcC5zZXQodHgsIHN0b3JlTmFtZXMuc29ydCA/IHN0b3JlTmFtZXMuc29ydCgpIDogW3N0b3JlTmFtZXNdKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwKHR4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gQ3Vyc29yIG1ldGhvZHMgYXJlIHNwZWNpYWwsIGFzIHRoZSBiZWhhdmlvdXIgaXMgYSBsaXR0bGUgbW9yZSBkaWZmZXJlbnQgdG8gc3RhbmRhcmQgSURCLiBJblxuICAgIC8vIElEQiwgeW91IGFkdmFuY2UgdGhlIGN1cnNvciBhbmQgd2FpdCBmb3IgYSBuZXcgJ3N1Y2Nlc3MnIG9uIHRoZSBJREJSZXF1ZXN0IHRoYXQgZ2F2ZSB5b3UgdGhlXG4gICAgLy8gY3Vyc29yLiBJdCdzIGtpbmRhIGxpa2UgYSBwcm9taXNlIHRoYXQgY2FuIHJlc29sdmUgd2l0aCBtYW55IHZhbHVlcy4gVGhhdCBkb2Vzbid0IG1ha2Ugc2Vuc2VcbiAgICAvLyB3aXRoIHJlYWwgcHJvbWlzZXMsIHNvIGVhY2ggYWR2YW5jZSBtZXRob2RzIHJldHVybnMgYSBuZXcgcHJvbWlzZSBmb3IgdGhlIGN1cnNvciBvYmplY3QsIG9yXG4gICAgLy8gdW5kZWZpbmVkIGlmIHRoZSBlbmQgb2YgdGhlIGN1cnNvciBoYXMgYmVlbiByZWFjaGVkLlxuICAgIGlmIChnZXRDdXJzb3JBZHZhbmNlTWV0aG9kcygpLmluY2x1ZGVzKGZ1bmMpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgLy8gQ2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJveHkgYXMgJ3RoaXMnIGNhdXNlcyBJTExFR0FMIElOVk9DQVRJT04sIHNvIHdlIHVzZVxuICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgICAgICAgIGZ1bmMuYXBwbHkodW53cmFwKHRoaXMpLCBhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwKGN1cnNvclJlcXVlc3RNYXAuZ2V0KHRoaXMpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIC8vIENhbGxpbmcgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3h5IGFzICd0aGlzJyBjYXVzZXMgSUxMRUdBTCBJTlZPQ0FUSU9OLCBzbyB3ZSB1c2VcbiAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgICAgcmV0dXJuIHdyYXAoZnVuYy5hcHBseSh1bndyYXAodGhpcyksIGFyZ3MpKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gdHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiB3cmFwRnVuY3Rpb24odmFsdWUpO1xuICAgIC8vIFRoaXMgZG9lc24ndCByZXR1cm4sIGl0IGp1c3QgY3JlYXRlcyBhICdkb25lJyBwcm9taXNlIGZvciB0aGUgdHJhbnNhY3Rpb24sXG4gICAgLy8gd2hpY2ggaXMgbGF0ZXIgcmV0dXJuZWQgZm9yIHRyYW5zYWN0aW9uLmRvbmUgKHNlZSBpZGJPYmplY3RIYW5kbGVyKS5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbilcbiAgICAgICAgY2FjaGVEb25lUHJvbWlzZUZvclRyYW5zYWN0aW9uKHZhbHVlKTtcbiAgICBpZiAoaW5zdGFuY2VPZkFueSh2YWx1ZSwgZ2V0SWRiUHJveHlhYmxlVHlwZXMoKSkpXG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodmFsdWUsIGlkYlByb3h5VHJhcHMpO1xuICAgIC8vIFJldHVybiB0aGUgc2FtZSB2YWx1ZSBiYWNrIGlmIHdlJ3JlIG5vdCBnb2luZyB0byB0cmFuc2Zvcm0gaXQuXG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gd3JhcCh2YWx1ZSkge1xuICAgIC8vIFdlIHNvbWV0aW1lcyBnZW5lcmF0ZSBtdWx0aXBsZSBwcm9taXNlcyBmcm9tIGEgc2luZ2xlIElEQlJlcXVlc3QgKGVnIHdoZW4gY3Vyc29yaW5nKSwgYmVjYXVzZVxuICAgIC8vIElEQiBpcyB3ZWlyZCBhbmQgYSBzaW5nbGUgSURCUmVxdWVzdCBjYW4geWllbGQgbWFueSByZXNwb25zZXMsIHNvIHRoZXNlIGNhbid0IGJlIGNhY2hlZC5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJSZXF1ZXN0KVxuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdCh2YWx1ZSk7XG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSB0cmFuc2Zvcm1lZCB0aGlzIHZhbHVlIGJlZm9yZSwgcmV1c2UgdGhlIHRyYW5zZm9ybWVkIHZhbHVlLlxuICAgIC8vIFRoaXMgaXMgZmFzdGVyLCBidXQgaXQgYWxzbyBwcm92aWRlcyBvYmplY3QgZXF1YWxpdHkuXG4gICAgaWYgKHRyYW5zZm9ybUNhY2hlLmhhcyh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1DYWNoZS5nZXQodmFsdWUpO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSh2YWx1ZSk7XG4gICAgLy8gTm90IGFsbCB0eXBlcyBhcmUgdHJhbnNmb3JtZWQuXG4gICAgLy8gVGhlc2UgbWF5IGJlIHByaW1pdGl2ZSB0eXBlcywgc28gdGhleSBjYW4ndCBiZSBXZWFrTWFwIGtleXMuXG4gICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICB0cmFuc2Zvcm1DYWNoZS5zZXQodmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLnNldChuZXdWYWx1ZSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3VmFsdWU7XG59XG5jb25zdCB1bndyYXAgPSAodmFsdWUpID0+IHJldmVyc2VUcmFuc2Zvcm1DYWNoZS5nZXQodmFsdWUpO1xuXG5leHBvcnQgeyByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgYXMgYSwgaW5zdGFuY2VPZkFueSBhcyBpLCByZXBsYWNlVHJhcHMgYXMgciwgdW53cmFwIGFzIHUsIHdyYXAgYXMgdyB9O1xuIiwiaW1wb3J0IHsgdyBhcyB3cmFwLCByIGFzIHJlcGxhY2VUcmFwcyB9IGZyb20gJy4vd3JhcC1pZGItdmFsdWUuanMnO1xuZXhwb3J0IHsgdSBhcyB1bndyYXAsIHcgYXMgd3JhcCB9IGZyb20gJy4vd3JhcC1pZGItdmFsdWUuanMnO1xuXG4vKipcbiAqIE9wZW4gYSBkYXRhYmFzZS5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBkYXRhYmFzZS5cbiAqIEBwYXJhbSB2ZXJzaW9uIFNjaGVtYSB2ZXJzaW9uLlxuICogQHBhcmFtIGNhbGxiYWNrcyBBZGRpdGlvbmFsIGNhbGxiYWNrcy5cbiAqL1xuZnVuY3Rpb24gb3BlbkRCKG5hbWUsIHZlcnNpb24sIHsgYmxvY2tlZCwgdXBncmFkZSwgYmxvY2tpbmcsIHRlcm1pbmF0ZWQgfSA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKG5hbWUsIHZlcnNpb24pO1xuICAgIGNvbnN0IG9wZW5Qcm9taXNlID0gd3JhcChyZXF1ZXN0KTtcbiAgICBpZiAodXBncmFkZSkge1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3VwZ3JhZGVuZWVkZWQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHVwZ3JhZGUod3JhcChyZXF1ZXN0LnJlc3VsdCksIGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50Lm5ld1ZlcnNpb24sIHdyYXAocmVxdWVzdC50cmFuc2FjdGlvbikpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGJsb2NrZWQpXG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYmxvY2tlZCcsICgpID0+IGJsb2NrZWQoKSk7XG4gICAgb3BlblByb21pc2VcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XG4gICAgICAgIGlmICh0ZXJtaW5hdGVkKVxuICAgICAgICAgICAgZGIuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoKSA9PiB0ZXJtaW5hdGVkKCkpO1xuICAgICAgICBpZiAoYmxvY2tpbmcpXG4gICAgICAgICAgICBkYi5hZGRFdmVudExpc3RlbmVyKCd2ZXJzaW9uY2hhbmdlJywgKCkgPT4gYmxvY2tpbmcoKSk7XG4gICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgcmV0dXJuIG9wZW5Qcm9taXNlO1xufVxuLyoqXG4gKiBEZWxldGUgYSBkYXRhYmFzZS5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBkYXRhYmFzZS5cbiAqL1xuZnVuY3Rpb24gZGVsZXRlREIobmFtZSwgeyBibG9ja2VkIH0gPSB7fSkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UobmFtZSk7XG4gICAgaWYgKGJsb2NrZWQpXG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYmxvY2tlZCcsICgpID0+IGJsb2NrZWQoKSk7XG4gICAgcmV0dXJuIHdyYXAocmVxdWVzdCkudGhlbigoKSA9PiB1bmRlZmluZWQpO1xufVxuXG5jb25zdCByZWFkTWV0aG9kcyA9IFsnZ2V0JywgJ2dldEtleScsICdnZXRBbGwnLCAnZ2V0QWxsS2V5cycsICdjb3VudCddO1xuY29uc3Qgd3JpdGVNZXRob2RzID0gWydwdXQnLCAnYWRkJywgJ2RlbGV0ZScsICdjbGVhciddO1xuY29uc3QgY2FjaGVkTWV0aG9kcyA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldE1ldGhvZCh0YXJnZXQsIHByb3ApIHtcbiAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBJREJEYXRhYmFzZSAmJlxuICAgICAgICAhKHByb3AgaW4gdGFyZ2V0KSAmJlxuICAgICAgICB0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNhY2hlZE1ldGhvZHMuZ2V0KHByb3ApKVxuICAgICAgICByZXR1cm4gY2FjaGVkTWV0aG9kcy5nZXQocHJvcCk7XG4gICAgY29uc3QgdGFyZ2V0RnVuY05hbWUgPSBwcm9wLnJlcGxhY2UoL0Zyb21JbmRleCQvLCAnJyk7XG4gICAgY29uc3QgdXNlSW5kZXggPSBwcm9wICE9PSB0YXJnZXRGdW5jTmFtZTtcbiAgICBjb25zdCBpc1dyaXRlID0gd3JpdGVNZXRob2RzLmluY2x1ZGVzKHRhcmdldEZ1bmNOYW1lKTtcbiAgICBpZiAoXG4gICAgLy8gQmFpbCBpZiB0aGUgdGFyZ2V0IGRvZXNuJ3QgZXhpc3Qgb24gdGhlIHRhcmdldC4gRWcsIGdldEFsbCBpc24ndCBpbiBFZGdlLlxuICAgICEodGFyZ2V0RnVuY05hbWUgaW4gKHVzZUluZGV4ID8gSURCSW5kZXggOiBJREJPYmplY3RTdG9yZSkucHJvdG90eXBlKSB8fFxuICAgICAgICAhKGlzV3JpdGUgfHwgcmVhZE1ldGhvZHMuaW5jbHVkZXModGFyZ2V0RnVuY05hbWUpKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1ldGhvZCA9IGFzeW5jIGZ1bmN0aW9uIChzdG9yZU5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gaXNXcml0ZSA/ICdyZWFkd3JpdGUnIDogdW5kZWZpbmVkIGd6aXBwcyBiZXR0ZXIsIGJ1dCBmYWlscyBpbiBFZGdlIDooXG4gICAgICAgIGNvbnN0IHR4ID0gdGhpcy50cmFuc2FjdGlvbihzdG9yZU5hbWUsIGlzV3JpdGUgPyAncmVhZHdyaXRlJyA6ICdyZWFkb25seScpO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdHguc3RvcmU7XG4gICAgICAgIGlmICh1c2VJbmRleClcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5pbmRleChhcmdzLnNoaWZ0KCkpO1xuICAgICAgICBjb25zdCByZXR1cm5WYWwgPSBhd2FpdCB0YXJnZXRbdGFyZ2V0RnVuY05hbWVdKC4uLmFyZ3MpO1xuICAgICAgICBpZiAoaXNXcml0ZSlcbiAgICAgICAgICAgIGF3YWl0IHR4LmRvbmU7XG4gICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgfTtcbiAgICBjYWNoZWRNZXRob2RzLnNldChwcm9wLCBtZXRob2QpO1xuICAgIHJldHVybiBtZXRob2Q7XG59XG5yZXBsYWNlVHJhcHMoKG9sZFRyYXBzKSA9PiAoe1xuICAgIC4uLm9sZFRyYXBzLFxuICAgIGdldDogKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpID0+IGdldE1ldGhvZCh0YXJnZXQsIHByb3ApIHx8IG9sZFRyYXBzLmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSxcbiAgICBoYXM6ICh0YXJnZXQsIHByb3ApID0+ICEhZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkgfHwgb2xkVHJhcHMuaGFzKHRhcmdldCwgcHJvcCksXG59KSk7XG5cbmV4cG9ydCB7IGRlbGV0ZURCLCBvcGVuREIgfTtcbiIsImltcG9ydCB7IG9wZW5EQiB9IGZyb20gJ2lkYidcbmltcG9ydCBDT05GSUcgZnJvbSAnLi4vZ2xvYmFscy9jb25maWcnXG5cbmNvbnN0IHsgREFUQUJBU0VfTkFNRSwgREFUQUJBU0VfVkVSU0lPTiwgT0JKRUNUX1NUT1JFX05BTUUgfSA9IENPTkZJR1xuXG5jb25zdCBkYlByb21pc2UgPSBvcGVuREIoREFUQUJBU0VfTkFNRSwgREFUQUJBU0VfVkVSU0lPTiwge1xuICB1cGdyYWRlIChkYXRhYmFzZSkge1xuICAgIGRhdGFiYXNlLmNyZWF0ZU9iamVjdFN0b3JlKE9CSkVDVF9TVE9SRV9OQU1FLCB7IGtleVBhdGg6ICdpZCcgfSlcbiAgfVxufSlcbmNvbnN0IEZhdm9yaXRlUmVzdGF1cmFudElkYiA9IHtcbiAgYXN5bmMgZ2V0UmVzdGF1cmFudCAoaWQpIHtcbiAgICByZXR1cm4gKGF3YWl0IGRiUHJvbWlzZSkuZ2V0KE9CSkVDVF9TVE9SRV9OQU1FLCBpZClcbiAgfSxcbiAgYXN5bmMgZ2V0QWxsUmVzdGF1cmFudCAoKSB7XG4gICAgcmV0dXJuIChhd2FpdCBkYlByb21pc2UpLmdldEFsbChPQkpFQ1RfU1RPUkVfTkFNRSlcbiAgfSxcbiAgYXN5bmMgcHV0UmVzdGF1cmFudCAocmVzdGF1cmFudCkge1xuICAgIHJldHVybiAoYXdhaXQgZGJQcm9taXNlKS5wdXQoT0JKRUNUX1NUT1JFX05BTUUsIHJlc3RhdXJhbnQpXG4gIH0sXG4gIGFzeW5jIGRlbGV0ZVJlc3RhdXJhbnQgKGlkKSB7XG4gICAgcmV0dXJuIChhd2FpdCBkYlByb21pc2UpLmRlbGV0ZShPQkpFQ1RfU1RPUkVfTkFNRSwgaWQpXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEZhdm9yaXRlUmVzdGF1cmFudElkYlxuIiwiaW1wb3J0IEZhdm9yaXRlUmVzdGF1cmFudElkYiBmcm9tICcuLi9kYXRhL2Zhdm9yaXRlcmVzdG8taWRiJ1xuaW1wb3J0IHsgY3JlYXRlTGlrZUJ1dHRvblRlbXBsYXRlLCBjcmVhdGVMaWtlZEJ1dHRvblRlbXBsYXRlIH0gZnJvbSAnLi4vdmlld3MvdGVtcGxhdGVzL3RlbXBsYXRlLWNyZWF0b3InXG5jb25zdCBMaWtlQnV0dG9uSW5pdGlhdG9yID0ge1xuICBhc3luYyBpbml0ICh7IGxpa2VCdXR0b25Db250YWluZXIsIHJlc3RhdXJhbnQgfSkge1xuICAgIHRoaXMuX2xpa2VCdXR0b25Db250YWluZXIgPSBsaWtlQnV0dG9uQ29udGFpbmVyXG4gICAgdGhpcy5fcmVzdGF1cmFudCA9IHJlc3RhdXJhbnRcbiAgICBhd2FpdCB0aGlzLl9yZW5kZXJCdXR0b24oKVxuICB9LFxuICBhc3luYyBfcmVuZGVyQnV0dG9uICgpIHtcbiAgICBjb25zdCB7IGlkIH0gPSB0aGlzLl9yZXN0YXVyYW50XG4gICAgaWYgKGF3YWl0IHRoaXMuX2lzUmVzdGF1cmFudEV4aXN0KGlkKSkge1xuICAgICAgdGhpcy5fcmVuZGVyTGlrZWQoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW5kZXJMaWtlKClcbiAgICB9XG4gIH0sXG4gIGFzeW5jIF9pc1Jlc3RhdXJhbnRFeGlzdCAoaWQpIHtcbiAgICBjb25zdCByZXN0byA9IGF3YWl0IEZhdm9yaXRlUmVzdGF1cmFudElkYi5nZXRSZXN0YXVyYW50KGlkKVxuICAgIHJldHVybiAhIXJlc3RvXG4gIH0sXG4gIF9yZW5kZXJMaWtlZCAoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbkNvbnRhaW5lci5pbm5lckhUTUwgPSBjcmVhdGVMaWtlZEJ1dHRvblRlbXBsYXRlKClcbiAgICBjb25zdCBsaWtlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpa2VCdXR0b24nKVxuICAgIGxpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBGYXZvcml0ZVJlc3RhdXJhbnRJZGIuZGVsZXRlUmVzdGF1cmFudCh0aGlzLl9yZXN0YXVyYW50LmlkKVxuICAgICAgdGhpcy5fcmVuZGVyQnV0dG9uKClcbiAgICAgIGNvbnNvbGUubG9nKCdVbmxpa2UnKVxuICAgIH0pXG4gIH0sXG4gIF9yZW5kZXJMaWtlICgpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uQ29udGFpbmVyLmlubmVySFRNTCA9IGNyZWF0ZUxpa2VCdXR0b25UZW1wbGF0ZSgpXG4gICAgY29uc3QgbGlrZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaWtlQnV0dG9uJylcbiAgICBsaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgRmF2b3JpdGVSZXN0YXVyYW50SWRiLnB1dFJlc3RhdXJhbnQodGhpcy5fcmVzdGF1cmFudClcbiAgICAgIHRoaXMuX3JlbmRlckJ1dHRvbigpXG4gICAgICBjb25zb2xlLmxvZygnTGlrZWQnKVxuICAgIH0pXG4gIH1cblxufVxuZXhwb3J0IGRlZmF1bHQgTGlrZUJ1dHRvbkluaXRpYXRvclxuIiwiaW1wb3J0IFVybFBhcnNlciBmcm9tICcuLi8uLi9yb3V0ZXMvdXJsLXBhcnNlcidcclxuaW1wb3J0IFJlc3RhdXJhbnRTb3VyY2UgZnJvbSAnLi4vLi4vZGF0YS9yZXN0YXVyYW50LXNvdXJjZSdcclxuaW1wb3J0IHsgY3JlYXRlUmVzdGF1cmFudERldGFpbFRlbXBsYXRlIH0gZnJvbSAnLi4vdGVtcGxhdGVzL3RlbXBsYXRlLWNyZWF0b3InXHJcbmltcG9ydCBMaWtlQnV0dG9uSW5pdGlhdG9yIGZyb20gJy4uLy4uL3V0aWxzL2xpa2UtYnV0dG9uLWluaXRpYXRvcidcclxuY29uc3QgRGV0YWlsID0ge1xyXG4gIGFzeW5jIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gYFxyXG4gICAgPHNlY3Rpb24gaWQ9J3Jlc3RhdXJhbnQnIGNsYXNzPSdyZXN0YXVyYW50Jz48L3NlY3Rpb24+XHJcbiAgICA8ZGl2IGlkPVwibGlrZUJ1dHRvbkNvbnRhaW5lclwiPjwvZGl2PlxyXG4gICAgICBgXHJcbiAgfSxcclxuICBhc3luYyBhZnRlclJlbmRlciAoKSB7XHJcbiAgICBjb25zdCB1cmwgPSBVcmxQYXJzZXIucGFyc2VBY3RpdmVVcmxXaXRob3V0Q29tYmluZXIoKVxyXG4gICAgY29uc3QgcmVzdGF1cmFudCA9IGF3YWl0IFJlc3RhdXJhbnRTb3VyY2UuZGV0YWlsUmVzdGF1cmFudCh1cmwuaWQpXHJcbiAgICBjb25zb2xlLmxvZyhyZXN0YXVyYW50KVxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlcm8nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2tpcCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIGNvbnN0IHJlc3RhdXJhbnRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzdGF1cmFudCcpXHJcbiAgICBsZXQgbGlzdGZvb2QgPSAnJ1xyXG4gICAgbGV0IGxpc3RkcmluayA9ICcnXHJcbiAgICBsZXQgY29uc3VtZXJyZXYgPSAnJ1xyXG4gICAgbGV0IGNhdGVnb3J5cmVzID0gJydcclxuICAgIHJlc3RhdXJhbnQubWVudXMuZm9vZHMuZm9yRWFjaCgoZm9vZCkgPT4ge1xyXG4gICAgICBsaXN0Zm9vZCArPSBgJm1pZGRvdDsgJHtmb29kLm5hbWV9IGBcclxuICAgIH0pXHJcbiAgICByZXN0YXVyYW50Lm1lbnVzLmRyaW5rcy5mb3JFYWNoKChkcmluaykgPT4ge1xyXG4gICAgICBsaXN0ZHJpbmsgKz0gYCZtaWRkb3Q7ICR7ZHJpbmsubmFtZX0gYFxyXG4gICAgfSlcclxuICAgIHJlc3RhdXJhbnQuY29uc3VtZXJSZXZpZXdzLmZvckVhY2goKHJldmlldykgPT4ge1xyXG4gICAgICBjb25zdW1lcnJldiArPSBgJHtyZXZpZXcubmFtZX0gOiAke3Jldmlldy5yZXZpZXd9PGJyPmBcclxuICAgIH0pXHJcbiAgICByZXN0YXVyYW50LmNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0KSA9PiB7XHJcbiAgICAgIGNhdGVnb3J5cmVzICs9IGAmbWlkZG90OyZuYnNwOzx1PiAke2NhdC5uYW1lfSA8L3U+Jm5ic3A7YFxyXG4gICAgfSlcclxuICAgIHJlc3RhdXJhbnRDb250YWluZXIuaW5uZXJIVE1MID0gY3JlYXRlUmVzdGF1cmFudERldGFpbFRlbXBsYXRlKHJlc3RhdXJhbnQsIGxpc3Rmb29kLCBsaXN0ZHJpbmssIGNvbnN1bWVycmV2LCBjYXRlZ29yeXJlcylcclxuICAgIExpa2VCdXR0b25Jbml0aWF0b3IuaW5pdCh7XHJcbiAgICAgIGxpa2VCdXR0b25Db250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaWtlQnV0dG9uQ29udGFpbmVyJyksXHJcbiAgICAgIHJlc3RhdXJhbnRcclxuICAgIH0pXHJcbiAgICBjb25zdCBzdWJtaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0JylcclxuICAgIHN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lJykudmFsdWVcclxuICAgICAgY29uc3QgcmV2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JldmlldycpLnZhbHVlXHJcbiAgICAgIGNvbnN0IG1zZyA9IGF3YWl0IFJlc3RhdXJhbnRTb3VyY2UucmV2aWV3KHsgaWQ6IHJlc3RhdXJhbnQuaWQsIG5hbWU6IG5hbWUsIHJldmlldzogcmV2IH0pXHJcbiAgICAgIGNvbnNvbGUubG9nKG1zZylcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IERldGFpbFxyXG4iLCJpbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9wYWdlcy9ob21lJ1xyXG5pbXBvcnQgRmF2b3JpdGUgZnJvbSAnLi4vdmlld3MvcGFnZXMvZmF2b3JpdGUnXHJcbmltcG9ydCBEZXRhaWwgZnJvbSAnLi4vdmlld3MvcGFnZXMvZGV0YWlsJ1xyXG5cclxuY29uc3Qgcm91dGVzID0ge1xyXG4gICcvJzogSG9tZSwgLy8gZGVmYXVsdCBwYWdlXHJcbiAgJy9ob21lJzogSG9tZSxcclxuICAnL2Zhdm9yaXRlJzogRmF2b3JpdGUsXHJcbiAgJy9kZXRhaWwvOmlkJzogRGV0YWlsXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlc1xyXG4iLCJpbXBvcnQgRmF2b3JpdGVSZXN0YXVyYW50SWRiIGZyb20gJy4uLy4uL2RhdGEvZmF2b3JpdGVyZXN0by1pZGInXHJcbmltcG9ydCB7IGNyZWF0ZVJlc3RhdXJhbnRJdGVtVGVtcGxhdGUgfSBmcm9tICcuLi90ZW1wbGF0ZXMvdGVtcGxhdGUtY3JlYXRvcidcclxuXHJcbmNvbnN0IEZhdm9yaXRlID0ge1xyXG4gIGFzeW5jIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gYFxyXG4gICAgPGRpdiBjbGFzcz1cImxhdGVzdFwiPlxyXG4gICAgICAgIDxoMSBjbGFzcz1cImxhdGVzdF9fbGFiZWxcIj5Zb3VyIEZhdm9yaXRlIFJlc3RhdXJhbnQ8L2gxPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0c1wiIGlkPVwicmVzdGF1cmFudFwiPjwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICAgIGBcclxuICB9LFxyXG4gIGFzeW5jIGFmdGVyUmVuZGVyICgpIHtcclxuICAgIGNvbnN0IHJlc3RhdXJhbnRzID0gYXdhaXQgRmF2b3JpdGVSZXN0YXVyYW50SWRiLmdldEFsbFJlc3RhdXJhbnQoKVxyXG4gICAgY29uc3QgcmVzdGF1cmFudENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXN0YXVyYW50JylcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZXJvJykuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NraXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICByZXN0YXVyYW50cy5mb3JFYWNoKChyZXN0bykgPT4ge1xyXG4gICAgICByZXN0YXVyYW50Q29udGFpbmVyLmlubmVySFRNTCArPSBjcmVhdGVSZXN0YXVyYW50SXRlbVRlbXBsYXRlKHJlc3RvKVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgRmF2b3JpdGVcclxuIiwiaW1wb3J0IERyYXdlckluaXRpYXRvciBmcm9tICcuLi91dGlscy9kcmF3ZXItaW5pdGlhdG9yJ1xyXG5pbXBvcnQgVXJsUGFyc2VyIGZyb20gJy4uL3JvdXRlcy91cmwtcGFyc2VyJ1xyXG5pbXBvcnQgcm91dGVzIGZyb20gJy4uL3JvdXRlcy9yb3V0ZXMnXHJcbmNsYXNzIEFwcCB7XHJcbiAgY29uc3RydWN0b3IgKHsgYnV0dG9uLCBkcmF3ZXIsIGNvbnRlbnQgfSkge1xyXG4gICAgdGhpcy5fYnV0dG9uID0gYnV0dG9uXHJcbiAgICB0aGlzLl9kcmF3ZXIgPSBkcmF3ZXJcclxuICAgIHRoaXMuX2NvbnRlbnQgPSBjb250ZW50XHJcbiAgICB0aGlzLl9pbml0aWFsQXBwU2hlbGwoKVxyXG4gIH1cclxuXHJcbiAgX2luaXRpYWxBcHBTaGVsbCAoKSB7XHJcbiAgICBEcmF3ZXJJbml0aWF0b3IuaW5pdCh7XHJcbiAgICAgIGJ1dHRvbjogdGhpcy5fYnV0dG9uLFxyXG4gICAgICBkcmF3ZXI6IHRoaXMuX2RyYXdlcixcclxuICAgICAgY29udGVudDogdGhpcy5fY29udGVudFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbmRlclBhZ2UgKCkge1xyXG4gICAgY29uc3QgdXJsID0gVXJsUGFyc2VyLnBhcnNlQWN0aXZlVXJsV2l0aENvbWJpbmVyKClcclxuICAgIGNvbnN0IHBhZ2UgPSByb3V0ZXNbdXJsXVxyXG4gICAgdGhpcy5fY29udGVudC5pbm5lckhUTUwgPSBhd2FpdCBwYWdlLnJlbmRlcigpXHJcbiAgICBhd2FpdCBwYWdlLmFmdGVyUmVuZGVyKClcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgQXBwXHJcbiIsImNvbnN0IHN3UmVnaXN0ZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcignL3NlcnZpY2Utd29ya2VyLmpzJykudGhlbihyZWdpc3RyYXRpb24gPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTVyByZWdpc3RlcmVkOiAnLCByZWdpc3RyYXRpb24pXHJcbiAgICAgICAgLy8gcmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7XHJcbiAgICAgICAgLy8gICB1c2VyVmlzaWJsZU9ubHk6IHRydWVcclxuICAgICAgICAvLyB9KVxyXG4gICAgICB9KS5jYXRjaChyZWdpc3RyYXRpb25FcnJvciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2Ugd29ya2VyIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyJylcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzd1JlZ2lzdGVyXHJcbiIsImltcG9ydCAncmVnZW5lcmF0b3ItcnVudGltZScgLyogZm9yIGFzeW5jIGF3YWl0IHRyYW5zcGlsZSAqL1xuaW1wb3J0ICcuLi9zdHlsZXMvbWFpbi5jc3MnXG5pbXBvcnQgJy4uL3N0eWxlcy9yZXNwb25zaXZlLmNzcydcbmltcG9ydCAnLi9jb21wb25lbnRzL2VsZW1lbnQtaGVybydcbmltcG9ydCBBcHAgZnJvbSAnLi92aWV3cy9hcHAnXG5pbXBvcnQgc3dSZWdpc3RlciBmcm9tICcuL3V0aWxzL3N3LXJlZ2lzdGVyJ1xuc3dSZWdpc3RlcigpXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbmNvbnN0IGFwcCA9IG5ldyBBcHAoe1xuICBidXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoYW1idXJnZXJCdXR0b24nKSxcbiAgZHJhd2VyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmF2aWdhdGlvbkRyYXdlcicpLFxuICBjb250ZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGVudCcpXG59KVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCAoKSA9PiB7XG4gIGFwcC5yZW5kZXJQYWdlKClcbiAgcHJlbG9hZCgpXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgYXBwLnJlbmRlclBhZ2UoKVxuICBwcmVsb2FkKClcbn0pXG5cbmZ1bmN0aW9uIHByZWxvYWQgKCkge1xuICBzZXRUaW1lb3V0KHNob3dQYWdlLCAzMDAwKVxufVxuXG5mdW5jdGlvbiBzaG93UGFnZSAoKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=